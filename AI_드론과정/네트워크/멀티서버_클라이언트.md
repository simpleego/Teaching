# λ©€ν‹°μ„λ²„μ™€ ν΄λΌμ΄μ–ΈνΈ 
> μ§€κΈ μ„λ²„ μ½”λ“λ” **λ‹¨μΌ ν΄λΌμ΄μ–ΈνΈλ§ μ²λ¦¬**ν•  μ μλ” κµ¬μ΅°λΌμ„, μ—¬λ¬ λ…μ΄ μ ‘μ†ν•λ©΄ μ²« λ²μ§Έ ν΄λΌμ΄μ–ΈνΈκ°€ λλ‚  λ•κΉμ§€ λ‹¤λ¥Έ ν΄λΌμ΄μ–ΈνΈλ” λ€κΈ°ν•κ² λΌ.  
> κ·Έλμ„ **μ¤λ λ“λ¥Ό μ‚¬μ©ν•΄ ν΄λΌμ΄μ–ΈνΈλ§λ‹¤ λ³„λ„μ μ²λ¦¬ λ£¨ν”„λ¥Ό λλ¦¬λ” λ°©μ‹**μΌλ΅ λ³€κ²½
> λν•, μ„λ²„κ°€ ν΄λΌμ΄μ–ΈνΈμ—κ² λ³΄λ‚΄λ” μ‘λ‹µλ„ **μ„μμ λ©”μ‹μ§€(random message)**λ¥Ό μƒμ„±ν•λ„λ΅ κµ¬μ„±ν•΄μ¤„κ².

-  **λ©€ν‹° ν΄λΌμ΄μ–ΈνΈ TCP μ„λ²„ + λλ¤ μ‘λ‹µ λ©”μ‹μ§€** 

---

# π¦ λ©€ν‹° ν΄λΌμ΄μ–ΈνΈ TCP μ„λ²„ (server_multi.py)

```python
import socket
import threading
import random

# μ„μμ λ©”μ‹μ§€ λ©λ΅
RESPONSES = [
    "μ•λ…•ν•μ„Έμ”!",
    "μ”μ²­μ„ μ λ°›μ•μµλ‹λ‹¤.",
    "μ¤λλ„ μΆ‹μ€ ν•λ£¨ λμ„Έμ”.",
    "μ„λ²„μ—μ„ λ³΄λ‚Έ λλ¤ λ©”μ‹μ§€μ…λ‹λ‹¤.",
    "λ°μ΄ν„° μμ‹  μ™„λ£!",
    "λ“λ΅  ν†µμ‹  ν…μ¤νΈ μ¤‘μ…λ‹λ‹¤.",
    "μ‘λ‹µ λ©”μ‹μ§€ μ „μ†΅ν•©λ‹λ‹¤."
]

def handle_client(conn, addr):
    print(f"[ν΄λΌμ΄μ–ΈνΈ μ ‘μ†] {addr}")

    with conn:
        while True:
            data = conn.recv(1024)
            if not data:
                print(f"[ν΄λΌμ΄μ–ΈνΈ μΆ…λ£] {addr}")
                break

            print(f"[{addr}] λ°›μ€ λ°μ΄ν„°: {data.decode()}")

            # μ„μμ λ©”μ‹μ§€ μƒμ„±
            response = random.choice(RESPONSES)
            conn.sendall(response.encode())


def main():
    HOST = '192.168.0.27'
    PORT = 9999

    with socket.socket(socket.AF_INET, socket.SOCK_STREAM) as s:
        s.bind((HOST, PORT))
        s.listen()
        print("μ„λ²„κ°€ μ‹μ‘λμ—μµλ‹λ‹¤. μ—¬λ¬ ν΄λΌμ΄μ–ΈνΈ μ ‘μ† κ°€λ¥...")

        while True:
            conn, addr = s.accept()
            # ν΄λΌμ΄μ–ΈνΈλ§λ‹¤ μ¤λ λ“ μƒμ„±
            thread = threading.Thread(target=handle_client, args=(conn, addr), daemon=True)
            thread.start()
            print(f"[ν™μ„± μ—°κ²° μ] {threading.active_count() - 1}")

if __name__ == "__main__":
    main()
```

---

# π© ν΄λΌμ΄μ–ΈνΈ ν”„λ΅κ·Έλ¨ (client.py)

μ—¬λ¬ λ…μ΄ λ™μ‹μ— μ ‘μ†ν•΄λ„ μ λ™μ‘ν•λ” ν΄λΌμ΄μ–ΈνΈ μ½”λ“μ•Ό.

```python
import socket

HOST = '192.168.0.27'
PORT = 9999

with socket.socket(socket.AF_INET, socket.SOCK_STREAM) as s:
    s.connect((HOST, PORT))
    print("μ„λ²„μ— μ—°κ²°λμ—μµλ‹λ‹¤.")

    while True:
        msg = input("λ³΄λ‚Ό λ©”μ‹μ§€ μ…λ ¥(exit μ…λ ¥ μ‹ μΆ…λ£): ")

        if msg.lower() == "exit":
            print("ν΄λΌμ΄μ–ΈνΈλ¥Ό μΆ…λ£ν•©λ‹λ‹¤.")
            break

        s.sendall(msg.encode())
        data = s.recv(1024)

        print(f"μ„λ²„ μ‘λ‹µ: {data.decode()}")
```

---

# π§ μ–΄λ–»κ² λ™μ‘ν•λ‚?

### β” μ„λ²„
- ν΄λΌμ΄μ–ΈνΈκ°€ μ ‘μ†ν•  λ•λ§λ‹¤ μ¤λ λ“ μƒμ„±  
- κ° μ¤λ λ“κ°€ λ…λ¦½μ μΌλ΅ ν΄λΌμ΄μ–ΈνΈμ™€ ν†µμ‹   
- ν΄λΌμ΄μ–ΈνΈκ°€ λ³΄λ‚Έ λ©”μ‹μ§€λ¥Ό μ¶λ ¥  
- μ„λ²„λ” **μ„μμ λ©”μ‹μ§€(random choice)**λ΅ μ‘λ‹µ  

### β” ν΄λΌμ΄μ–ΈνΈ
- μ„λ²„μ— μ ‘μ†  
- λ©”μ‹μ§€λ¥Ό λ³΄λ‚΄λ©΄ μ„λ²„κ°€ λλ¤ μ‘λ‹µμ„ λλ ¤μ¤  
- μ—¬λ¬ ν΄λΌμ΄μ–ΈνΈκ°€ λ™μ‹μ— μ ‘μ†ν•΄λ„ λ¬Έμ  μ—†μ  

---

# π― jongμ„ μ„ν• ν™•μ¥ μ•„μ΄λ””μ–΄

μ›ν•λ©΄ λ‹¤μ λ‹¨κ³„λ„ λ§λ“¤μ–΄μ¤„κ²:

- ν΄λΌμ΄μ–ΈνΈλ§λ‹¤ κ³ μ  ID λ¶€μ—¬  
- μ„λ²„μ—μ„ λ¨λ“  ν΄λΌμ΄μ–ΈνΈμ—κ² λΈλ΅λ“μΊμ¤νΈ  
- JSON κΈ°λ° λ©”μ‹μ§€ ν”„λ΅ν† μ½  
- λ“λ΅  κ΄€μ μ© λ…λ Ή/λ΅κ·Έ κµ¬μ΅°λ΅ ν™•μ¥  
- UDP μ μ–΄ μ±„λ„κ³Ό ν•¨κ» μ‚¬μ©ν•λ” μ΄μ¤‘ ν†µμ‹  κµ¬μ΅°  

μ–΄λ–¤ λ°©ν–¥μΌλ΅ μ΄μ–΄κ°€κ³  μ‹¶μ–΄?
