# ì¼ë³„ ì‹¤ìŠµ ì½”ë“œ -2

## ğŸ—“ï¸ 1ì¼ì°¨: ê¸°ì´ˆ ê°•í™” (êµ¬ì¡°í™” ë° ì—ëŸ¬ ì²˜ë¦¬)

### 1.1 íƒ€ì„ì•„ì›ƒì´ ì ìš©ëœ í´ë¼ì´ì–¸íŠ¸

ì„œë²„ ì‘ë‹µì´ ì—†ì„ ë•Œ ë¬´í•œ ëŒ€ê¸°ë¥¼ ë°©ì§€í•˜ëŠ” í•„ìˆ˜ ê¸°ë²•ì…ë‹ˆë‹¤.

```python
import socket

with socket.socket(socket.AF_INET, socket.SOCK_STREAM) as s:
    s.settimeout(5.0)  # 5ì´ˆê°„ ì‘ë‹µ ì—†ìœ¼ë©´ TimeoutError
    try:
        s.connect(('127.0.0.1', 9999))
        s.sendall(b'Hello')
    except socket.timeout:
        print("ì„œë²„ ì‘ë‹µ ì‹œê°„ì´ ì´ˆê³¼ë˜ì—ˆìŠµë‹ˆë‹¤.")

```

### 1.2 `struct`ë¥¼ ì´ìš©í•œ ë°”ì´ë„ˆë¦¬ ë°ì´í„° ì „ì†¡

ë„¤íŠ¸ì›Œí¬ë¥¼ í†µí•´ ìˆ«ìë‚˜ êµ¬ì¡°í™”ëœ ë°ì´í„°ë¥¼ ë³´ë‚¼ ë•Œ ì‚¬ìš©í•©ë‹ˆë‹¤.

```python
import struct
# ì •ìˆ˜(I), ì‹¤ìˆ˜(f) ë°ì´í„°ë¥¼ ë°”ì´ë„ˆë¦¬ë¡œ ë³€í™˜í•˜ì—¬ ì „ì†¡
packed_data = struct.pack('If', 1024, 3.14)
print(f"ë³€í™˜ëœ ë°”ì´ë„ˆë¦¬: {packed_data}")

```

### 1.3 ê°„ë‹¨í•œ í¬íŠ¸ ìŠ¤ìºë„ˆ

íŠ¹ì • IPì˜ í¬íŠ¸ê°€ ì—´ë ¤ìˆëŠ”ì§€ í™•ì¸í•˜ëŠ” ë„êµ¬ì…ë‹ˆë‹¤.

```python
import socket

target = "127.0.0.1"
for port in range(80, 100):
    with socket.socket(socket.AF_INET, socket.SOCK_STREAM) as s:
        s.settimeout(0.1)
        if s.connect_ex((target, port)) == 0:
            print(f"Port {port} is OPEN")

```

---

## ğŸ—“ï¸ 2ì¼ì°¨: í”„ë¡œí† ì½œ ì‹¬í™” (íŒŒì¼ ë° ëŒ€ìš©ëŸ‰ ë°ì´í„°)

### 2.1 TCP íŒŒì¼ ì „ì†¡ (Server)

íŒŒì¼ ì´ë¦„ê³¼ ë°ì´í„°ë¥¼ ë¶„ë¦¬í•˜ì—¬ ì „ì†¡í•˜ëŠ” ë°©ì‹ì…ë‹ˆë‹¤.

```python
import socket

with socket.socket(socket.AF_INET, socket.SOCK_STREAM) as s:
    s.bind(('0.0.0.0', 9000))
    s.listen()
    conn, addr = s.accept()
    with open('received_file.txt', 'wb') as f:
        while True:
            data = conn.recv(4096)
            if not data: break
            f.write(data)

```

### 2.2 UDP ë¸Œë¡œë“œìºìŠ¤íŠ¸

ê°™ì€ ë„¤íŠ¸ì›Œí¬ìƒì˜ ëª¨ë“  PCì— ë©”ì‹œì§€ë¥¼ ë³´ëƒ…ë‹ˆë‹¤.

```python
import socket
with socket.socket(socket.AF_INET, socket.SOCK_DGRAM) as s:
    s.setsockopt(socket.SOL_SOCKET, socket.SO_BROADCAST, 1)
    s.sendto(b"Broadcast Message", ('<broadcast>', 9999))

```

### 2.3 ì»¤ìŠ¤í…€ í—¤ë” í”„ë¡œí† ì½œ

ë°ì´í„°ì˜ ê¸¸ì´ë¥¼ ë¨¼ì € ë³´ë‚´ê³  ë³¸ë¬¸ì„ ë³´ë‚´ëŠ” ê°„ë‹¨í•œ ê·œì•½ì„ ë§Œë“­ë‹ˆë‹¤.

```python
def send_msg(sock, msg):
    msg = msg.encode()
    header = struct.pack('!I', len(msg)) # 4ë°”ì´íŠ¸ í—¤ë”ì— ê¸¸ì´ ê¸°ë¡
    sock.sendall(header + msg)

```

---

## ğŸ—“ï¸ 3ì¼ì°¨: ë‹¤ì¤‘ ì ‘ì† ë° ë™ì‹œì„± ì œì–´

### 3.1 ë©€í‹°ìŠ¤ë ˆë“œ ì±„íŒ… ì„œë²„

ì—¬ëŸ¬ í´ë¼ì´ì–¸íŠ¸ì˜ ë©”ì‹œì§€ë¥¼ ê³µìœ  ë¦¬ìŠ¤íŠ¸ì— ë‹´ì•„ ê´€ë¦¬í•©ë‹ˆë‹¤.

```python
import threading

clients = []
def handle_client(conn, addr):
    clients.append(conn)
    while True:
        data = conn.recv(1024)
        if not data: break
        for c in clients: c.sendall(data) # ë¸Œë¡œë“œìºìŠ¤íŠ¸

# ë©”ì¸ ë£¨í”„ì—ì„œ threading.Thread(target=handle_client, args=(conn, addr)).start()

```

### 3.2 `Selectors`ë¥¼ ì´ìš©í•œ I/O ë©€í‹°í”Œë ‰ì‹±

ìŠ¤ë ˆë“œë¥¼ ì“°ì§€ ì•Šê³  ë‹¨ì¼ ìŠ¤ë ˆë“œë¡œ ì—¬ëŸ¬ ì†Œì¼“ì„ ê´€ì°°í•©ë‹ˆë‹¤.

```python
import selectors, socket
sel = selectors.DefaultSelector()
# ì†Œì¼“ ë“±ë¡ í›„ sel.select()ë¡œ ì´ë²¤íŠ¸ ë°œìƒ ëŒ€ê¸° (Linuxì˜ epoll ë°©ì‹)

```

### 3.3 ë¹„ë™ê¸° HTTP ìš”ì²­ (aiohttp)

`asyncio`ì™€ í•¨ê»˜ ì‚¬ìš©í•˜ì—¬ ìˆ˜ë°± ê°œì˜ ì›¹ ìš”ì²­ì„ ë™ì‹œì— ì²˜ë¦¬í•©ë‹ˆë‹¤.

```python
import aiohttp, asyncio

async def fetch(session, url):
    async with session.get(url) as response:
        return await response.text()

```

---

## ğŸ—“ï¸ 4ì¼ì°¨: ì›¹ ë° ë³´ì•ˆ í†µì‹ 

### 4.1 SSL ì ìš© ì„œë²„

ê³µê°œí‚¤ ì¸ì¦ì„œë¥¼ ì‚¬ìš©í•˜ì—¬ í†µì‹ ì„ ì•”í˜¸í™”í•©ë‹ˆë‹¤.

```python
import ssl

context = ssl.SSLContext(ssl.PROTOCOL_TLS_SERVER)
context.load_cert_chain('server.crt', 'server.key')
# ì´í›„ socketì„ wrap_socketìœ¼ë¡œ ê°ì‹¸ì„œ ì‚¬ìš©

```

### 4.2 ê°„ë‹¨í•œ ì›¹ ìŠ¤í¬ë˜í¼ (BeautifulSoup ì—°ë™)

ë„¤íŠ¸ì›Œí¬ë¡œ ë°›ì€ HTMLì—ì„œ íŠ¹ì • ì •ë³´ë§Œ ì¶”ì¶œí•©ë‹ˆë‹¤.

```python
from bs4 import BeautifulSoup
import requests

res = requests.get("https://www.google.com")
soup = BeautifulSoup(res.text, 'html.parser')
print(soup.title.string)

```

### 4.3 REST API POST ìš”ì²­

JSON ë°ì´í„°ë¥¼ ì„œë²„ë¡œ ì „ì†¡í•˜ëŠ” ì‹¤ìŠµì…ë‹ˆë‹¤.

```python
payload = {'name': 'admin', 'content': 'hello'}
res = requests.post('https://httpbin.org/post', json=payload)
print(res.json())

```

---

## ğŸ—“ï¸ 5ì¼ì°¨: ë¶„ì„ ë° ê³ ê¸‰ í™œìš©

### 5.1 Scapyë¥¼ ì´ìš©í•œ ICMP(Ping) êµ¬í˜„

ì§ì ‘ íŒ¨í‚·ì„ ì¡°ë¦½í•˜ì—¬ Pingì„ ë‚ ë¦½ë‹ˆë‹¤.

```python
from scapy.all import IP, ICMP, sr1
packet = IP(dst="8.8.8.8")/ICMP()
reply = sr1(packet, timeout=2)
reply.show()

```

### 5.2 ë„¤íŠ¸ì›Œí¬ íŠ¸ë˜í”½ ëª¨ë‹ˆí„° (Dash/Plotly ê¸°ì´ˆ)

ë“¤ì–´ì˜¤ëŠ” íŒ¨í‚·ì˜ ì–‘ì„ ì‹œê°í™”í•˜ê¸° ìœ„í•œ ë°ì´í„° ìˆ˜ì§‘ê¸°ì…ë‹ˆë‹¤.

```python
# 5ì´ˆ ë™ì•ˆì˜ íŒ¨í‚· ìˆ˜ë¥¼ ì¹´ìš´íŠ¸í•˜ì—¬ ë¦¬ìŠ¤íŠ¸ì— ì €ì¥í•˜ëŠ” ë¡œì§ ì‹¤ìŠµ

```

### 5.3 ì†Œì¼“ ì˜µì…˜ ì¡°ì‘ (Keep-alive)

ì¥ì‹œê°„ ì—°ê²° ìœ ì§€ë¥¼ ìœ„í•´ ì†Œì¼“ì˜ ì €ìˆ˜ì¤€ ì˜µì…˜ì„ ì„¤ì •í•©ë‹ˆë‹¤.

```python
s.setsockopt(socket.SOL_SOCKET, socket.SO_KEEPALIVE, 1)

```

---

ì´ ì½”ë“œë“¤ì€ ê° ì¼ì°¨ì˜ í•µì‹¬ ì£¼ì œë¥¼ ì‹¬í™”ì‹œí‚¨ ë²„ì „ì…ë‹ˆë‹¤. íŠ¹íˆ **3ì¼ì°¨ì˜ ë¹„ë™ê¸°/ë©€í‹°ìŠ¤ë ˆë”©**ê³¼ **5ì¼ì°¨ì˜ íŒ¨í‚· ì¡°ì‘**ì€ ë„¤íŠ¸ì›Œí¬ ì—”ì§€ë‹ˆì–´ë§ ì—­ëŸ‰ì„ ë†’ì´ëŠ” ë° í° ë„ì›€ì´ ë©ë‹ˆë‹¤.

ì´ ì¤‘ì—ì„œ íŠ¹ì • ì˜ˆì œì˜ ì „ì²´ ì‹¤í–‰ ì½”ë“œê°€ í•„ìš”í•˜ì‹ ê°€ìš”? (ì˜ˆ: 2.1ë²ˆ íŒŒì¼ ì „ì†¡ì˜ í´ë¼ì´ì–¸íŠ¸/ì„œë²„ ì „ì²´ ì½”ë“œ ë“±)
