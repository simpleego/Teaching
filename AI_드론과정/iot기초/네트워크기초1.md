#  λ„¤νΈμ›ν¬κΈ°μ΄1
> IoT λ„¤νΈμ›ν¬ κΈ°μ΄λ΅ **κ°„λ‹¨ν• μ„λ²„-ν΄λΌμ΄μ–ΈνΈ μ±„ν… ν”„λ΅κ·Έλ¨**

### π–¥οΈ 1λ‹¨κ³„ λ©ν‘
- μ—¬λ¬ ν΄λΌμ΄μ–ΈνΈκ°€ μ„λ²„μ— μ ‘μ†
- ν΄λΌμ΄μ–ΈνΈκ°€ λ¬Έμ λ©”μ‹μ§€λ¥Ό λ³΄λ‚΄λ©΄ μ„λ²„κ°€ μμ‹ 
- μ„λ²„λ” λ°›μ€ λ©”μ‹μ§€λ¥Ό λ‹¤μ‹ μ†΅μ‹ (broadcast)
- μ„λ²„λ” λ„κ°€ λ³΄λ‚Έ λ©”μ‹μ§€μΈμ§€ μ¶λ ¥

---

## π“ μ„λ²„ μ½”λ“ (server.py)
```python
import socket
import threading

# μ„λ²„ μ„¤μ •
HOST = '127.0.0.1'   # λ΅μ»¬νΈμ¤νΈ
PORT = 5000          # ν¬νΈ λ²νΈ

# ν΄λΌμ΄μ–ΈνΈ λ©λ΅ μ €μ¥
clients = {}

def handle_client(conn, addr):
    print(f"[μ ‘μ†] {addr} μ—°κ²°λ¨")
    clients[conn] = addr

    try:
        while True:
            msg = conn.recv(1024).decode()
            if not msg:
                break
            print(f"[μμ‹ ] {addr} : {msg}")

            # λ¨λ“  ν΄λΌμ΄μ–ΈνΈμ—κ² λ©”μ‹μ§€ μ „μ†΅
            broadcast_msg = f"{addr} : {msg}"
            for client in clients:
                if client != conn:  # μκΈ° μμ‹  μ μ™Έ
                    client.sendall(broadcast_msg.encode())
    except:
        pass
    finally:
        print(f"[μΆ…λ£] {addr} μ—°κ²° μΆ…λ£")
        del clients[conn]
        conn.close()

def start_server():
    server = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
    server.bind((HOST, PORT))
    server.listen()
    print(f"[μ„λ²„ μ‹μ‘] {HOST}:{PORT}")

    while True:
        conn, addr = server.accept()
        thread = threading.Thread(target=handle_client, args=(conn, addr))
        thread.start()

if __name__ == "__main__":
    start_server()
```

---

## π“ ν΄λΌμ΄μ–ΈνΈ μ½”λ“ (client.py)
```python
import socket
import threading

HOST = '127.0.0.1'
PORT = 5000

def receive_messages(sock):
    while True:
        try:
            msg = sock.recv(1024).decode()
            if msg:
                print(f"\n[μ„λ²„ λ©”μ‹μ§€] {msg}")
        except:
            print("μ„λ²„ μ—°κ²° λκΉ€")
            break

def start_client():
    client = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
    client.connect((HOST, PORT))

    # λ©”μ‹μ§€ μμ‹  μ¤λ λ“ μ‹¤ν–‰
    thread = threading.Thread(target=receive_messages, args=(client,))
    thread.start()

    # λ©”μ‹μ§€ μ†΅μ‹ 
    while True:
        msg = input("λ©”μ‹μ§€ μ…λ ¥: ")
        if msg.lower() == "exit":
            break
        client.sendall(msg.encode())

    client.close()

if __name__ == "__main__":
    start_client()
```

---

## π€ μ‹¤ν–‰ λ°©λ²•
1. ν„°λ―Έλ„μ—μ„ μ„λ²„ μ‹¤ν–‰:
   ```bash
   python server.py
   ```
2. λ‹¤λ¥Έ ν„°λ―Έλ„μ—μ„ ν΄λΌμ΄μ–ΈνΈ μ‹¤ν–‰:
   ```bash
   python client.py
   ```
3. μ—¬λ¬ ν΄λΌμ΄μ–ΈνΈλ¥Ό μ‹¤ν–‰ν•λ©΄, κ° ν΄λΌμ΄μ–ΈνΈκ°€ λ³΄λ‚Έ λ©”μ‹μ§€λ¥Ό μ„λ²„κ°€ λ°›μ•„μ„ λ‹¤λ¥Έ ν΄λΌμ΄μ–ΈνΈλ“¤μ—κ² μ „λ‹¬ν•©λ‹λ‹¤.  
   μ„λ²„λ” `[μμ‹ ] (IP, PORT) : λ©”μ‹μ§€` ν•νƒλ΅ λ„κ°€ λ³΄λƒλ”μ§€ μ¶λ ¥ν•©λ‹λ‹¤.

---

π‘‰ λ‹¤μ λ‹¨κ³„μ—μ„λ” μ΄ κµ¬μ΅°λ¥Ό ν™•μ¥ν•΄μ„ **IoT μ„Όμ„ λ°μ΄ν„° μ „μ†΅**μ΄λ‚ **MQTT μ—°λ™**μΌλ΅ λ°μ „μ‹ν‚¬ μ μμµλ‹λ‹¤.  

μ›ν•μ‹λ©΄ 2λ‹¨κ³„λ΅ **μ„Όμ„ λ°μ΄ν„°(λλ¤ κ°’) μ „μ†΅**μ„ ν΄λΌμ΄μ–ΈνΈκ°€ ν•κ³ , μ„λ²„κ°€ μ΄λ¥Ό λ¨μ•„μ„ μ¶λ ¥ν•λ” μμ λ¥Ό λ§λ“¤μ–΄ λ“λ¦΄κΉμ”?
