#  
# Node.js 프로젝트 구조와 카운터 서버 프로그램

## Node.js 프로젝트 구조

```
counter-app/
├── backend/                 # 백엔드 서버
│   ├── package.json
│   ├── server.js           # 메인 서버 파일
│   ├── routes/             # 라우트 파일들
│   │   └── counter.js
│   ├── models/             # 데이터 모델 (필요시)
│   └── config/             # 설정 파일들
├── frontend/               # 프론트엔드 리액트 앱
│   ├── package.json
│   ├── public/
│   ├── src/
│   │   ├── components/
│   │   ├── App.js
│   │   └── index.js
│   └── build/
└── README.md
```

## 백엔드 서버 (Node.js + Express)

### backend/package.json
```json
{
  "name": "counter-backend",
  "version": "1.0.0",
  "description": "Simple counter server",
  "main": "server.js",
  "scripts": {
    "start": "node server.js",
    "dev": "nodemon server.js"
  },
  "dependencies": {
    "express": "^4.18.2",
    "cors": "^2.8.5"
  },
  "devDependencies": {
    "nodemon": "^3.0.1"
  }
}
```

### backend/server.js
```javascript
const express = require('express');
const cors = require('cors');
const counterRoutes = require('./routes/counter');

const app = express();
const PORT = process.env.PORT || 5000;

// 미들웨어 설정
app.use(cors());
app.use(express.json());

// 라우트 설정
app.use('/api/counter', counterRoutes);

// 기본 라우트
app.get('/', (req, res) => {
  res.json({ message: 'Counter Server is running!' });
});

// 서버 시작
app.listen(PORT, () => {
  console.log(`Server is running on port ${PORT}`);
});
```

### backend/routes/counter.js
```javascript
const express = require('express');
const router = express.Router();

// 간단한 메모리 저장소 (실제로는 DB 사용 권장)
let counter = 0;

// 카운터 값 조회
router.get('/', (req, res) => {
  res.json({ count: counter });
});

// 카운터 증가
router.post('/increment', (req, res) => {
  counter += 1;
  res.json({ count: counter, message: 'Counter incremented' });
});

// 카운터 감소
router.post('/decrement', (req, res) => {
  counter -= 1;
  res.json({ count: counter, message: 'Counter decremented' });
});

// 카운터 리셋
router.post('/reset', (req, res) => {
  counter = 0;
  res.json({ count: counter, message: 'Counter reset' });
});

module.exports = router;
```

## 프론트엔드 (React)

### frontend/package.json
```json
{
  "name": "counter-frontend",
  "version": "1.0.0",
  "description": "React counter frontend",
  "dependencies": {
    "react": "^18.2.0",
    "react-dom": "^18.2.0",
    "react-scripts": "5.0.1",
    "axios": "^1.5.0"
  },
  "scripts": {
    "start": "react-scripts start",
    "build": "react-scripts build",
    "test": "react-scripts test",
    "eject": "react-scripts eject"
  },
  "browserslist": {
    "production": [
      ">0.2%",
      "not dead",
      "not op_mini all"
    ],
    "development": [
      "last 1 chrome version",
      "last 1 firefox version",
      "last 1 safari version"
    ]
  },
  "proxy": "http://localhost:5000"
}
```

### frontend/src/App.js
```jsx
import React, { useState, useEffect } from 'react';
import axios from 'axios';
import './App.css';

const API_BASE_URL = 'http://localhost:5000/api/counter';

function App() {
  const [count, setCount] = useState(0);
  const [loading, setLoading] = useState(false);

  // 컴포넌트 마운트 시 카운터 값 불러오기
  useEffect(() => {
    fetchCounter();
  }, []);

  const fetchCounter = async () => {
    try {
      const response = await axios.get(API_BASE_URL);
      setCount(response.data.count);
    } catch (error) {
      console.error('Error fetching counter:', error);
      alert('서버 연결에 실패했습니다.');
    }
  };

  const increment = async () => {
    setLoading(true);
    try {
      const response = await axios.post(`${API_BASE_URL}/increment`);
      setCount(response.data.count);
    } catch (error) {
      console.error('Error incrementing counter:', error);
      alert('증가 실패!');
    } finally {
      setLoading(false);
    }
  };

  const decrement = async () => {
    setLoading(true);
    try {
      const response = await axios.post(`${API_BASE_URL}/decrement`);
      setCount(response.data.count);
    } catch (error) {
      console.error('Error decrementing counter:', error);
      alert('감소 실패!');
    } finally {
      setLoading(false);
    }
  };

  const reset = async () => {
    setLoading(true);
    try {
      const response = await axios.post(`${API_BASE_URL}/reset`);
      setCount(response.data.count);
    } catch (error) {
      console.error('Error resetting counter:', error);
      alert('리셋 실패!');
    } finally {
      setLoading(false);
    }
  };

  return (
    <div className="App">
      <div className="counter-container">
        <h1>카운터 앱</h1>
        <div className="counter-display">
          <span className="count-value">{count}</span>
        </div>
        <div className="counter-buttons">
          <button 
            onClick={decrement} 
            disabled={loading}
            className="btn btn-decrement"
          >
            -
          </button>
          <button 
            onClick={reset} 
            disabled={loading}
            className="btn btn-reset"
          >
            Reset
          </button>
          <button 
            onClick={increment} 
            disabled={loading}
            className="btn btn-increment"
          >
            +
          </button>
        </div>
        {loading && <div className="loading">처리 중...</div>}
      </div>
    </div>
  );
}

export default App;
```

### frontend/src/App.css
```css
.App {
  text-align: center;
  min-height: 100vh;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  display: flex;
  justify-content: center;
  align-items: center;
  font-family: 'Arial', sans-serif;
}

.counter-container {
  background: white;
  padding: 2rem;
  border-radius: 15px;
  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
  min-width: 300px;
}

.counter-container h1 {
  color: #333;
  margin-bottom: 2rem;
  font-size: 2rem;
}

.counter-display {
  margin: 2rem 0;
}

.count-value {
  font-size: 4rem;
  font-weight: bold;
  color: #667eea;
  text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
}

.counter-buttons {
  display: flex;
  gap: 1rem;
  justify-content: center;
  margin: 2rem 0;
}

.btn {
  padding: 0.75rem 1.5rem;
  font-size: 1.2rem;
  border: none;
  border-radius: 8px;
  cursor: pointer;
  transition: all 0.3s ease;
  min-width: 80px;
}

.btn:hover:not(:disabled) {
  transform: translateY(-2px);
  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
}

.btn:disabled {
  opacity: 0.6;
  cursor: not-allowed;
}

.btn-increment {
  background-color: #4CAF50;
  color: white;
}

.btn-decrement {
  background-color: #f44336;
  color: white;
}

.btn-reset {
  background-color: #ff9800;
  color: white;
}

.loading {
  color: #666;
  font-style: italic;
  margin-top: 1rem;
}
```

### frontend/src/index.js
```jsx
import React from 'react';
import ReactDOM from 'react-dom/client';
import App from './App';

const root = ReactDOM.createRoot(document.getElementById('root'));
root.render(
  <React.StrictMode>
    <App />
  </React.StrictMode>
);
```

## 실행 방법

### 백엔드 실행:
```bash
cd backend
npm install
npm run dev
```

### 프론트엔드 실행 (새로운 터미널에서):
```bash
cd frontend
npm install
npm start
```

## 기능 설명

1. **백엔드 API**:
   - `GET /api/counter` - 현재 카운터 값 조회
   - `POST /api/counter/increment` - 카운터 증가
   - `POST /api/counter/decrement` - 카운터 감소
   - `POST /api/counter/reset` - 카운터 리셋

2. **프론트엔드 기능**:
   - 실시간 카운터 표시
   - 증가/감소/리셋 버튼
   - 로딩 상태 표시
   - 에러 처리

이 구조는 확장성이 좋으며, 실제 프로덕션 환경에서는 데이터베이스 연결, 환경 변수 관리, 에러 처리 등을 추가로 구현할 수 있습니다.
