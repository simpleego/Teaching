# ì„±ì ì²˜ë¦¬ í”„ë¡œê·¸ë¨(ë‹¨ê³„ë³„)
> **ë¦¬ì•¡íŠ¸ ì„±ì  ê´€ë¦¬ í”„ë¡œê·¸ë¨**ì˜ ì§„í™” ê³¼ì •ì„ í•œëˆˆì— ë³¼ ìˆ˜ ìˆë„ë¡ ë§ˆí¬ë‹¤ìš´ íŒŒì¼ë¡œ ì •ë¦¬í•´ ë‹¬ë¼ëŠ” ê±°ì§€? ì™„ì „ ë©‹ì§„ ìš”ì²­ì¸ë°! ğŸ¤©

---

```markdown
# ğŸ“ ë¦¬ì•¡íŠ¸ ì„±ì  ê´€ë¦¬ í”„ë¡œê·¸ë¨ ê°œë°œ ì¼ì§€

íŠ¼íŠ¼í•œì ¤ë¦¬7889ë‹˜ê³¼ í•¨ê»˜ ë§Œë“¤ì–´ ì˜¨ ë¦¬ì•¡íŠ¸(React) ê¸°ë°˜ ì„±ì  ê´€ë¦¬ í”„ë¡œê·¸ë¨ ê°œë°œ ê³¼ì •ì„ ë‹¨ê³„ë³„ë¡œ ì •ë¦¬í•œ ë¬¸ì„œì…ë‹ˆë‹¤. `useState`, `useEffect`, `useMemo`, `useCallback` ë“±ì˜ React Hooksë¥¼ í™œìš©í•˜ì—¬ ê¸°ëŠ¥ êµ¬í˜„ ë° ì„±ëŠ¥ ìµœì í™”ë¥¼ ì§„í–‰í–ˆìŠµë‹ˆë‹¤.

---

## ğŸš€ 1ë‹¨ê³„: ê¸°ë³¸ ì„±ì  ì…ë ¥ ë° ì‹¤ì‹œê°„ ê³„ì‚° (ì´ì , í‰ê· , í•™ì ) êµ¬í˜„

-   **ëª©í‘œ:** 5ëª…ì˜ í•™ìƒ êµ­ì–´, ì˜ì–´, ìˆ˜í•™ ì„±ì ì„ ì…ë ¥ë°›ê³ , ì…ë ¥ ë³€í™”ì— ë”°ë¼ ê° í•™ìƒì˜ ì´ì , í‰ê· , í•™ì ì„ ì‹¤ì‹œê°„ìœ¼ë¡œ ê³„ì‚°í•˜ì—¬ í‘œì‹œí•©ë‹ˆë‹¤. ë“±ìˆ˜ì™€ í‘œì¤€í¸ì°¨ëŠ” ì‹œê°„ì´ ë§ì´ ê±¸ë¦°ë‹¤ê³  ê°€ì •í•˜ê³  `useMemo`ë¥¼ ì‚¬ìš©í•´ì•¼ í•˜ëŠ” í•­ëª©ìœ¼ë¡œ ë‚¨ê²¨ë‘¡ë‹ˆë‹¤.

```jsx
import React, { useState, useMemo, useCallback } from 'react';

// í•™ì  ê³„ì‚° í•¨ìˆ˜ (ìœ í‹¸ë¦¬í‹°)
const calculateGrade = (average) => {
  if (average >= 90) return 'A';
  if (average >= 80) return 'B';
  if (average >= 70) return 'C';
  if (average >= 60) return 'D';
  return 'F';
};

// í‘œì¤€í¸ì°¨ ê³„ì‚° í•¨ìˆ˜ (ì‹œê°„ì´ ë§ì´ ê±¸ë¦°ë‹¤ê³  ê°€ì •) - ì´ˆê¸° ë²„ì „ì—ëŠ” ë‹¨ìˆœíˆ ì •ì˜ë§Œ
const calculateStandardDeviation = (scores) => {
  if (scores.length === 0) return 0;
  const mean = scores.reduce((sum, score) => sum + score, 0) / scores.length;
  const variance = scores.reduce((sum, score) => sum + Math.pow(score - mean, 2), 0) / scores.length;
  // ê³„ì‚°ì´ ë³µì¡í•˜ê³  ì˜¤ë˜ ê±¸ë¦°ë‹¤ê³  ê°€ì •í•˜ê¸° ìœ„í•´ ì¼ë¶€ëŸ¬ ì§€ì—° ì¶”ê°€ (ì‹¤ì œ ì‚¬ìš© ì‹œì—ëŠ” ì œê±°)
  let start = performance.now();
  while (performance.now() - start < 100) { /* do nothing for 100ms */ }
  return Math.sqrt(variance);
};

function GradeCalculator() {
  // ì´ˆê¸° í•™ìƒ ë°ì´í„° (5ëª…)
  const initialStudents = useMemo(() => ([
    { id: 1, name: 'í•™ìƒ1', korean: 0, english: 0, math: 0 },
    { id: 2, name: 'í•™ìƒ2', korean: 0, english: 0, math: 0 },
    { id: 3, name: 'í•™ìƒ3', korean: 0, english: 0, math: 0 },
    { id: 4, name: 'í•™ìƒ4', korean: 0, english: 0, math: 0 },
    { id: 5, name: 'í•™ìƒ5', korean: 0, english: 0, math: 0 },
  ]), []);

  const [students, setStudents] = useState(initialStudents);

  // ì„±ì  ì…ë ¥ ë³€ê²½ í•¸ë“¤ëŸ¬
  const handleScoreChange = useCallback((id, subject, value) => {
    const score = Math.max(0, Math.min(100, Number(value)));
    setStudents(prevStudents =>
      prevStudents.map(student =>
        student.id === id ? { ...student, [subject]: score } : student
      )
    );
  }, []);

  // ê° í•™ìƒì˜ ì´ì , í‰ê· , í•™ì ì„ ê³„ì‚° (ì‹¤ì‹œê°„ ë°˜ì˜)
  const calculatedStudents = useMemo(() => {
    return students.map(student => {
      const total = student.korean + student.english + student.math;
      const average = total / 3;
      const grade = calculateGrade(average);
      return { ...student, total, average, grade };
    });
  }, [students]);

  // ë“±ìˆ˜ ë° í‘œì¤€í¸ì°¨ ê³„ì‚° (useMemo ì‚¬ìš©, ì‹œê°„ì´ ë§ì´ ê±¸ë¦°ë‹¤ê³  ê°€ì •) - ì´ˆê¸° ë²„ì „
  const { rankedStudents, stdDev } = useMemo(() => {
    const sortedStudents = [...calculatedStudents].sort((a, b) => b.total - a.total);
    const studentsWithRank = sortedStudents.map((student, index, arr) => {
      const prevStudent = arr[index - 1];
      if (prevStudent && student.total === prevStudent.total) {
        return { ...student, rank: prevStudent.rank };
      }
      return { ...student, rank: index + 1 };
    });
    const finalRankedStudents = studentsWithRank.sort((a, b) => a.id - b.id);

    const allAverages = calculatedStudents.map(s => s.average);
    const standardDeviation = calculateStandardDeviation(allAverages); // ì§€ì—° í¬í•¨

    return { rankedStudents: finalRankedStudents, stdDev: standardDeviation };
  }, [calculatedStudents]);

  return (
    <div style={{ padding: '20px', fontFamily: 'Arial, sans-serif' }}>
      <h2>ğŸ“ í•™ìƒ ì„±ì  ê´€ë¦¬ í”„ë¡œê·¸ë¨</h2>
      <p>íŠ¼íŠ¼í•œì ¤ë¦¬7889ë‹˜, í•™ìƒë“¤ ì„±ì ì„ ì…ë ¥í•´ë³´ì„¸ìš”! ì‹¤ì‹œê°„ìœ¼ë¡œ ì´ì , í‰ê· , í•™ì ì„ ê³„ì‚°í•´ì¤˜ìš”. ë“±ìˆ˜ë‘ í‘œì¤€í¸ì°¨ëŠ” useMemoë¡œ ì„±ëŠ¥ ìµœì í™”í–ˆë‹µë‹ˆë‹¤! ğŸ˜‰</p>

      <table border="1" style={{ width: '100%', borderCollapse: 'collapse', textAlign: 'center' }}>
        <thead>
          <tr style={{ backgroundColor: '#f2f2f2' }}>
            <th>ì´ë¦„</th>
            <th>êµ­ì–´</th>
            <th>ì˜ì–´</th>
            <th>ìˆ˜í•™</th>
            <th>ì´ì </th>
            <th>í‰ê· </th>
            <th>í•™ì </th>
            <th>ë“±ìˆ˜</th>
          </tr>
        </thead>
        <tbody>
          {rankedStudents.map((student) => (
            <tr key={student.id}>
              <td>{student.name}</td>
              <td>
                <input
                  type="number" min="0" max="100"
                  value={student.korean}
                  onChange={(e) => handleScoreChange(student.id, 'korean', e.target.value)}
                  style={{ width: '60px', textAlign: 'center' }}
                />
              </td>
              <td>
                <input
                  type="number" min="0" max="100"
                  value={student.english}
                  onChange={(e) => handleScoreChange(student.id, 'english', e.target.value)}
                  style={{ width: '60px', textAlign: 'center' }}
                />
              </td>
              <td>
                <input
                  type="number" min="0" max="100"
                  value={student.math}
                  onChange={(e) => handleScoreChange(student.id, 'math', e.target.value)}
                  style={{ width: '60px', textAlign: 'center' }}
                />
              </td>
              <td>{student.total}</td>
              <td>{student.average.toFixed(2)}</td>
              <td>{student.grade}</td>
              <td>{student.rank}</td>
            </tr>
          ))}
        </tbody>
      </table>
      <div style={{ marginTop: '20px', fontSize: '1.1em', fontWeight: 'bold' }}>
        ì „ì²´ í•™ìƒ í‰ê·  ì ìˆ˜ì˜ í‘œì¤€í¸ì°¨: {stdDev.toFixed(2)}
      </div>
      <p style={{ marginTop: '10px', fontSize: '0.9em', color: '#666' }}>
        * í‘œì¤€í¸ì°¨ëŠ” ê³„ì‚°ëŸ‰ì´ ë§ì•„ useMemoë¡œ ìµœì í™”ë˜ì—ˆìŠµë‹ˆë‹¤. ì„±ì ì´ ë³€ê²½ë  ë•Œë§Œ ë‹¤ì‹œ ê³„ì‚°ë©ë‹ˆë‹¤.
      </p>
    </div>
  );
}

export default GradeCalculator;
```

---

## ğŸ› ï¸ 2ë‹¨ê³„: í•™ì /ë“±ìˆ˜ ì‹¤ì‹œê°„ ë°˜ì˜ ë° í‘œì¤€í¸ì°¨ ì§€ì—° ìœ ì§€

-   **ë¬¸ì œì :** ì´ì „ ë‹¨ê³„ì—ì„œ í•™ì ê³¼ ë“±ìˆ˜ê°€ ì‹¤ì‹œê°„ìœ¼ë¡œ ë°˜ì˜ë˜ì§€ ì•ŠëŠ” ë¬¸ì œê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. ì´ëŠ” í‘œì¤€í¸ì°¨ ê³„ì‚°ì— ë„£ì–´ë‘” ì˜ë„ì ì¸ ì§€ì—° ì‹œê°„ (`calculateStandardDeviation` í•¨ìˆ˜ ë‚´ `while` ë£¨í”„) ë•Œë¬¸ì—, ê°™ì€ `useMemo` ë¸”ë¡ì— ìˆë˜ ë“±ìˆ˜ ê³„ì‚° ê²°ê³¼ë„ í•¨ê»˜ ì§€ì—°ë˜ì—ˆê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.
-   **í•´ê²°:**
    1.  ê° í•™ìƒì˜ ì´ì , í‰ê· , í•™ì ì„ ê³„ì‚°í•˜ëŠ” `useMemo`ë¥¼ **`studentsWithCalculatedScores`**ë¡œ ë¶„ë¦¬í–ˆìŠµë‹ˆë‹¤.
    2.  ë“±ìˆ˜ë§Œ ê³„ì‚°í•˜ëŠ” `useMemo`ë¥¼ **`studentsWithRank`**ë¡œ ë¶„ë¦¬í•˜ì—¬ `studentsWithCalculatedScores`ì— ì˜ì¡´í•˜ê²Œ ë§Œë“¤ì—ˆìŠµë‹ˆë‹¤. ì´ë¡œì¨ ë“±ìˆ˜ ê³„ì‚°ì€ í‘œì¤€í¸ì°¨ ì§€ì—°ê³¼ ê´€ê³„ì—†ì´ ë¹ ë¥´ê²Œ ë°˜ì˜ë©ë‹ˆë‹¤.
    3.  í‘œì¤€í¸ì°¨ë§Œ ê³„ì‚°í•˜ëŠ” `useMemo`ë¥¼ **`stdDev`**ë¡œ ë¶„ë¦¬í•˜ì—¬ ì§€ì—° ë¡œì§ì„ ìœ ì§€í–ˆìŠµë‹ˆë‹¤.

```jsx
import React, { useState, useMemo, useCallback } from 'react';

// í•™ì  ê³„ì‚° í•¨ìˆ˜ (ìœ í‹¸ë¦¬í‹°)
const calculateGrade = (average) => {
  if (average >= 90) return 'A';
  if (average >= 80) return 'B';
  if (average >= 70) return 'C';
  if (average >= 60) return 'D';
  return 'F';
};

// í‘œì¤€í¸ì°¨ ê³„ì‚° í•¨ìˆ˜ (ì‹œê°„ì´ ë§ì´ ê±¸ë¦°ë‹¤ê³  ê°€ì •)
const calculateStandardDeviation = (scores) => {
  if (scores.length === 0) return 0;
  const mean = scores.reduce((sum, score) => sum + score, 0) / scores.length;
  const variance = scores.reduce((sum, score) => sum + Math.pow(score - mean, 2), 0) / scores.length;
  
  // ê³„ì‚°ì´ ë³µì¡í•˜ê³  ì˜¤ë˜ ê±¸ë¦°ë‹¤ê³  ê°€ì •í•˜ê¸° ìœ„í•´ ì¼ë¶€ëŸ¬ ì§€ì—° ì¶”ê°€ (ì‹¤ì œ ì‚¬ìš© ì‹œì—ëŠ” ì œê±°)
  let start = performance.now();
  while (performance.now() - start < 150) { /* do nothing for 150ms */ } // ì§€ì—° ì‹œê°„ ì‚´ì§ ëŠ˜ë ¤ì„œ ì²´ê°í•˜ë„ë¡
  
  return Math.sqrt(variance);
};

function GradeCalculator() {
  // ì´ˆê¸° í•™ìƒ ë°ì´í„° (5ëª…)
  const initialStudentsData = useMemo(() => ([
    { id: 1, name: 'í•™ìƒ1', korean: 0, english: 0, math: 0 },
    { id: 2, name: 'í•™ìƒ2', korean: 0, english: 0, math: 0 },
    { id: 3, name: 'í•™ìƒ3', korean: 0, english: 0, math: 0 },
    { id: 4, name: 'í•™ìƒ4', korean: 0, english: 0, math: 0 },
    { id: 5, name: 'í•™ìƒ5', korean: 0, english: 0, math: 0 },
  ]), []);

  const [students, setStudents] = useState(initialStudentsData);

  // ì„±ì  ì…ë ¥ ë³€ê²½ í•¸ë“¤ëŸ¬
  const handleScoreChange = useCallback((id, subject, value) => {
    const score = Math.max(0, Math.min(100, Number(value)));
    setStudents(prevStudents =>
      prevStudents.map(student =>
        student.id === id ? { ...student, [subject]: score } : student
      )
    );
  }, []);

  // â­ ë³€ê²½: ê° í•™ìƒì˜ ì´ì , í‰ê· , í•™ì ì„ ê³„ì‚° (ì‹¤ì‹œê°„ ë°˜ì˜)
  const studentsWithCalculatedScores = useMemo(() => {
    return students.map(student => {
      const total = student.korean + student.english + student.math;
      const average = total / 3;
      const grade = calculateGrade(average);
      return { ...student, total, average, grade };
    });
  }, [students]);

  // â­ ë³€ê²½: ë“±ìˆ˜ ê³„ì‚° (studentsWithCalculatedScoresê°€ ë³€ê²½ë  ë•Œ ì¦‰ì‹œ ì¬ê³„ì‚°)
  const studentsWithRank = useMemo(() => {
    const sortedStudents = [...studentsWithCalculatedScores].sort((a, b) => b.total - a.total);
    const ranked = sortedStudents.map((student, index, arr) => {
      const prevStudent = arr[index - 1];
      if (prevStudent && student.total === prevStudent.total) {
        return { ...student, rank: prevStudent.rank };
      }
      return { ...student, rank: index + 1 };
    });
    return ranked.sort((a, b) => a.id - b.id);
  }, [studentsWithCalculatedScores]);

  // â­ ë³€ê²½: í‘œì¤€í¸ì°¨ ê³„ì‚° (ì‹œê°„ì´ ë§ì´ ê±¸ë¦°ë‹¤ê³  ê°€ì •í•˜ê³  useMemo ë¶„ë¦¬)
  const stdDev = useMemo(() => {
    const allAverages = studentsWithCalculatedScores.map(s => s.average);
    return calculateStandardDeviation(allAverages); // ì§€ì—° í¬í•¨
  }, [studentsWithCalculatedScores]);

  return (
    <div style={{ padding: '20px', fontFamily: 'Arial, sans-serif' }}>
      <h2>ğŸ“ í•™ìƒ ì„±ì  ê´€ë¦¬ í”„ë¡œê·¸ë¨ (ê°œì„  ë²„ì „)</h2>
      <p>
        íŠ¼íŠ¼í•œì ¤ë¦¬7889ë‹˜, ì´ì œ í•™ì ê³¼ ë“±ìˆ˜ëŠ” ì‹¤ì‹œê°„ìœ¼ë¡œ ë°”ë¡œë°”ë¡œ ë°”ë€” ê±°ì˜ˆìš”! ğŸš€ <br />
        í‘œì¤€í¸ì°¨ë§Œ ê³„ì‚°ëŸ‰ì´ ë§ì•„ ì‚´ì§ ëŠë¦¬ê²Œ ì—…ë°ì´íŠ¸ë˜ë‹ˆ ì°¸ê³ í•´ì£¼ì„¸ìš”. ğŸ˜‰
      </p>

      <table border="1" style={{ width: '100%', borderCollapse: 'collapse', textAlign: 'center' }}>
        <thead>
          <tr style={{ backgroundColor: '#f2f2f2' }}>
            <th>ì´ë¦„</th>
            <th>êµ­ì–´</th>
            <th>ì˜ì–´</th>
            <th>ìˆ˜í•™</th>
            <th>ì´ì </th>
            <th>í‰ê· </th>
            <th>í•™ì </th>
            <th>ë“±ìˆ˜</th>
          </tr>
        </thead>
        <tbody>
          {studentsWithRank.map((student) => (
            <tr key={student.id}>
              <td>{student.name}</td>
              <td>
                <input
                  type="number" min="0" max="100"
                  value={student.korean}
                  onChange={(e) => handleScoreChange(student.id, 'korean', e.target.value)}
                  style={{ width: '60px', textAlign: 'center' }}
                />
              </td>
              <td>
                <input
                  type="number" min="0" max="100"
                  value={student.english}
                  onChange={(e) => handleScoreChange(student.id, 'english', e.target.value)}
                  style={{ width: '60px', textAlign: 'center' }}
                />
              </td>
              <td>
                <input
                  type="number" min="0" max="100"
                  value={student.math}
                  onChange={(e) => handleScoreChange(student.id, 'math', e.target.value)}
                  style={{ width: '60px', textAlign: 'center' }}
                />
              </td>
              <td>{student.total}</td>
              <td>{student.average.toFixed(2)}</td>
              <td>{student.grade}</td>
              <td>{student.rank}</td>
            </tr>
          ))}
        </tbody>
      </table>
      <div style={{ marginTop: '20px', fontSize: '1.1em', fontWeight: 'bold' }}>
        ì „ì²´ í•™ìƒ í‰ê·  ì ìˆ˜ì˜ í‘œì¤€í¸ì°¨: {stdDev.toFixed(2)}
      </div>
      <p style={{ marginTop: '10px', fontSize: '0.9em', color: '#666' }}>
        * í‘œì¤€í¸ì°¨ëŠ” ê³„ì‚°ëŸ‰ì´ ë§ì•„ useMemoë¡œ ìµœì í™”ë˜ì—ˆìœ¼ë©°, ì˜ë„ì ìœ¼ë¡œ ì§€ì—°ì„ ì£¼ì—ˆìŠµë‹ˆë‹¤.
      </p>
    </div>
  );
}

export default GradeCalculator;
```

---

## ğŸ“‹ 3ë‹¨ê³„: í™”ë©´ í•˜ë‹¨ì— ë“±ìˆ˜ ìˆœ í•™ìƒ ëª…ë‹¨ ì¶œë ¥

-   **ëª©í‘œ:** í•™ìƒë“¤ì˜ ë“±ìˆ˜ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ì •ë ¬ëœ ëª…ë‹¨ì„ í™”ë©´ í•˜ë‹¨ì— ì¶”ê°€í•˜ì—¬ ì„±ì  í˜„í™©ì„ í•œëˆˆì— íŒŒì•…í•  ìˆ˜ ìˆë„ë¡ í•©ë‹ˆë‹¤.

```jsx
import React, { useState, useMemo, useCallback } from 'react';

// í•™ì  ê³„ì‚° í•¨ìˆ˜ (ìœ í‹¸ë¦¬í‹°)
const calculateGrade = (average) => {
  if (average >= 90) return 'A';
  if (average >= 80) return 'B';
  if (average >= 70) return 'C';
  if (average >= 60) return 'D';
  return 'F';
};

// í‘œì¤€í¸ì°¨ ê³„ì‚° í•¨ìˆ˜ (ì‹œê°„ì´ ë§ì´ ê±¸ë¦°ë‹¤ê³  ê°€ì •)
const calculateStandardDeviation = (scores) => {
  if (scores.length === 0) return 0;
  const mean = scores.reduce((sum, score) => sum + score, 0) / scores.length;
  const variance = scores.reduce((sum, score) => sum + Math.pow(score - mean, 2), 0) / scores.length;
  
  let start = performance.now();
  while (performance.now() - start < 150) { /* do nothing for 150ms */ } 
  
  return Math.sqrt(variance);
};

function GradeCalculator() {
  const initialStudentsData = useMemo(() => ([
    { id: 1, name: 'í•™ìƒ1', korean: 0, english: 0, math: 0 },
    { id: 2, name: 'í•™ìƒ2', korean: 0, english: 0, math: 0 },
    { id: 3, name: 'í•™ìƒ3', korean: 0, english: 0, math: 0 },
    { id: 4, name: 'í•™ìƒ4', korean: 0, english: 0, math: 0 },
    { id: 5, name: 'í•™ìƒ5', korean: 0, english: 0, math: 0 },
  ]), []);

  const [students, setStudents] = useState(initialStudentsData);

  const handleScoreChange = useCallback((id, subject, value) => {
    const score = Math.max(0, Math.min(100, Number(value)));
    setStudents(prevStudents =>
      prevStudents.map(student =>
        student.id === id ? { ...student, [subject]: score } : student
      )
    );
  }, []); 

  const studentsWithCalculatedScores = useMemo(() => {
    return students.map(student => {
      const total = student.korean + student.english + student.math;
      const average = total / 3;
      const grade = calculateGrade(average); 
      return { ...student, total, average, grade };
    });
  }, [students]); 

  const studentsWithRank = useMemo(() => {
    const sortedStudents = [...studentsWithCalculatedScores].sort((a, b) => b.total - a.total); 
    const ranked = sortedStudents.map((student, index, arr) => {
      const prevStudent = arr[index - 1];
      if (prevStudent && student.total === prevStudent.total) {
        return { ...student, rank: prevStudent.rank };
      }
      return { ...student, rank: index + 1 };
    });
    return ranked.sort((a, b) => a.id - b.id);
  }, [studentsWithCalculatedScores]); 

  const stdDev = useMemo(() => {
    const allAverages = studentsWithCalculatedScores.map(s => s.average);
    return calculateStandardDeviation(allAverages);
  }, [studentsWithCalculatedScores]); 

  // â­ ìƒˆë¡œ ì¶”ê°€ëœ ë¶€ë¶„: ë“±ìˆ˜ ìˆœìœ¼ë¡œ ì •ë ¬ëœ í•™ìƒ ëª…ë‹¨
  const studentsSortedByRank = useMemo(() => {
    return [...studentsWithRank].sort((a, b) => {
      if (a.rank === b.rank) {
        return a.name.localeCompare(b.name); 
      }
      return a.rank - b.rank;
    });
  }, [studentsWithRank]);


  return (
    <div style={{ padding: '20px', fontFamily: 'Arial, sans-serif' }}>
      <h2>ğŸ“ í•™ìƒ ì„±ì  ê´€ë¦¬ í”„ë¡œê·¸ë¨ (ìµœì¢… ê°œì„  ë²„ì „)</h2>
      <p>
        íŠ¼íŠ¼í•œì ¤ë¦¬7889ë‹˜, ì´ì œ í•™ì ê³¼ ë“±ìˆ˜ëŠ” ì‹¤ì‹œê°„ìœ¼ë¡œ ë°”ë¡œë°”ë¡œ ë°”ë€” ê±°ì˜ˆìš”! ğŸš€ <br />
        í‘œì¤€í¸ì°¨ë§Œ ê³„ì‚°ëŸ‰ì´ ë§ì•„ ì‚´ì§ ëŠë¦¬ê²Œ ì—…ë°ì´íŠ¸ë˜ë‹ˆ ì°¸ê³ í•´ì£¼ì„¸ìš”.
      </p>

      <table border="1" style={{ width: '100%', borderCollapse: 'collapse', textAlign: 'center' }}>
        <thead>
          <tr style={{ backgroundColor: '#f2f2f2' }}>
            <th>ì´ë¦„</th>
            <th>êµ­ì–´</th>
            <th>ì˜ì–´</th>
            <th>ìˆ˜í•™</th>
            <th>ì´ì </th>
            <th>í‰ê· </th>
            <th>í•™ì </th>
            <th>ë“±ìˆ˜</th>
          </tr>
        </thead>
        <tbody>
          {studentsWithRank.map((student) => (
            <tr key={student.id}>
              <td>{student.name}</td>
              <td>
                <input
                  type="number" min="0" max="100"
                  value={student.korean}
                  onChange={(e) => handleScoreChange(student.id, 'korean', e.target.value)}
                  style={{ width: '60px', textAlign: 'center' }}
                />
              </td>
              <td>
                <input
                  type="number" min="0" max="100"
                  value={student.english}
                  onChange={(e) => handleScoreChange(student.id, 'english', e.target.value)}
                  style={{ width: '60px', textAlign: 'center' }}
                />
              </td>
              <td>
                <input
                  type="number" min="0" max="100"
                  value={student.math}
                  onChange={(e) => handleScoreChange(student.id, 'math', e.target.value)}
                  style={{ width: '60px', textAlign: 'center' }}
                />
              </td>
              <td>{student.total}</td>
              <td>{student.average.toFixed(2)}</td> 
              <td>{student.grade}</td>
              <td>{student.rank}</td>
            </tr>
          ))}
        </tbody>
      </table>
      <div style={{ marginTop: '20px', fontSize: '1.1em', fontWeight: 'bold' }}>
        ì „ì²´ í•™ìƒ í‰ê·  ì ìˆ˜ì˜ í‘œì¤€í¸ì°¨: {stdDev.toFixed(2)}
      </div>
      <p style={{ marginTop: '10px', fontSize: '0.9em', color: '#666' }}>
        * í‘œì¤€í¸ì°¨ëŠ” ê³„ì‚°ëŸ‰ì´ ë§ì•„ useMemoë¡œ ìµœì í™”ë˜ì—ˆìœ¼ë©°, ì˜ë„ì ìœ¼ë¡œ ì§€ì—°ì„ ì£¼ì—ˆìŠµë‹ˆë‹¤.
      </p>

      {/* â­ ìƒˆë¡œ ì¶”ê°€ëœ ê¸°ëŠ¥: ë“±ìˆ˜ë³„ í•™ìƒ ëª…ë‹¨ â­ */}
      <div style={{ marginTop: '30px', borderTop: '1px solid #eee', paddingTop: '20px' }}>
        <h3>ğŸ† ë“±ìˆ˜ë³„ í•™ìƒ ëª…ë‹¨</h3>
        <ul style={{ listStyleType: 'none', padding: 0 }}>
          {studentsSortedByRank.map((student) => (
            <li key={student.id} style={{ marginBottom: '5px', fontSize: '1.05em' }}>
              <strong>{student.rank}ë“±:</strong> {student.name} (ì´ì : {student.total})
            </li>
          ))}
        </ul>
      </div>
      {/* â­ ì¶”ê°€ëœ ê¸°ëŠ¥ ë â­ */}
    </div>
  );
}

export default GradeCalculator;
```

---

## ğŸ“Š 4ë‹¨ê³„: ë“±ìˆ˜ë³„ ëª…ë‹¨ì— í‰ê·  ì ìˆ˜ ì¶”ê°€

-   **ëª©í‘œ:** í™”ë©´ í•˜ë‹¨ì˜ ë“±ìˆ˜ë³„ í•™ìƒ ëª…ë‹¨ì— ê° í•™ìƒì˜ ì´ì ê³¼ í•¨ê»˜ í‰ê·  ì ìˆ˜ë„ í‘œì‹œí•˜ì—¬ ì •ë³´ì˜ ê°€ë…ì„±ì„ ë†’ì…ë‹ˆë‹¤.

```jsx
import React, { useState, useMemo, useCallback } from 'react';

// í•™ì  ê³„ì‚° í•¨ìˆ˜ (ìœ í‹¸ë¦¬í‹°)
const calculateGrade = (average) => {
  if (average >= 90) return 'A';
  if (average >= 80) return 'B';
  if (average >= 70) return 'C';
  if (average >= 60) return 'D';
  return 'F';
};

// í‘œì¤€í¸ì°¨ ê³„ì‚° í•¨ìˆ˜ (ì‹œê°„ì´ ë§ì´ ê±¸ë¦°ë‹¤ê³  ê°€ì •)
const calculateStandardDeviation = (scores) => {
  if (scores.length === 0) return 0;
  const mean = scores.reduce((sum, score) => sum + score, 0) / scores.length;
  const variance = scores.reduce((sum, score) => sum + Math.pow(score - mean, 2), 0) / scores.length;
  
  let start = performance.now();
  while (performance.now() - start < 150) { /* do nothing for 150ms */ } 
  
  return Math.sqrt(variance);
};

function GradeCalculator() {
  const initialStudentsData = useMemo(() => ([
    { id: 1, name: 'í•™ìƒ1', korean: 0, english: 0, math: 0 },
    { id: 2, name: 'í•™ìƒ2', korean: 0, english: 0, math: 0 },
    { id: 3, name: 'í•™ìƒ3', korean: 0, english: 0, math: 0 },
    { id: 4, name: 'í•™ìƒ4', korean: 0, english: 0, math: 0 },
    { id: 5, name: 'í•™ìƒ5', korean: 0, english: 0, math: 0 },
  ]), []);

  const [students, setStudents] = useState(initialStudentsData);

  const handleScoreChange = useCallback((id, subject, value) => {
    const score = Math.max(0, Math.min(100, Number(value)));
    setStudents(prevStudents =>
      prevStudents.map(student =>
        student.id === id ? { ...student, [subject]: score } : student
      )
    );
  }, []); 

  const studentsWithCalculatedScores = useMemo(() => {
    return students.map(student => {
      const total = student.korean + student.english + student.math;
      const average = total / 3;
      const grade = calculateGrade(average); 
      return { ...student, total, average, grade };
    });
  }, [students]); 

  const studentsWithRank = useMemo(() => {
    const sortedStudents = [...studentsWithCalculatedScores].sort((a, b) => b.total - a.total); 
    const ranked = sortedStudents.map((student, index, arr) => {
      const prevStudent = arr[index - 1];
      if (prevStudent && student.total === prevStudent.total) {
        return { ...student, rank: prevStudent.rank };
      }
      return { ...student, rank: index + 1 };
    });
    return ranked.sort((a, b) => a.id - b.id);
  }, [studentsWithCalculatedScores]); 

  const stdDev = useMemo(() => {
    const allAverages = studentsWithCalculatedScores.map(s => s.average);
    return calculateStandardDeviation(allAverages);
  }, [studentsWithCalculatedScores]); 

  const studentsSortedByRank = useMemo(() => {
    return [...studentsWithRank].sort((a, b) => {
      if (a.rank === b.rank) {
        return a.name.localeCompare(b.name); 
      }
      return a.rank - b.rank;
    });
  }, [studentsWithRank]);


  return (
    <div style={{ padding: '20px', fontFamily: 'Arial, sans-serif' }}>
      <h2>ğŸ“ í•™ìƒ ì„±ì  ê´€ë¦¬ í”„ë¡œê·¸ë¨ (í‰ê·  ì¶”ê°€)</h2>
      <p>
        íŠ¼íŠ¼í•œì ¤ë¦¬7889ë‹˜, ì´ì œ í•™ì ê³¼ ë“±ìˆ˜ëŠ” ì‹¤ì‹œê°„ìœ¼ë¡œ ë°”ë¡œë°”ë¡œ ë°”ë€” ê±°ì˜ˆìš”! ğŸš€ <br />
        í‘œì¤€í¸ì°¨ë§Œ ê³„ì‚°ëŸ‰ì´ ë§ì•„ ì‚´ì§ ëŠë¦¬ê²Œ ì—…ë°ì´íŠ¸ë˜ë‹ˆ ì°¸ê³ í•´ì£¼ì„¸ìš”.
      </p>

      <table border="1" style={{ width: '100%', borderCollapse: 'collapse', textAlign: 'center' }}>
        <thead>
          <tr style={{ backgroundColor: '#f2f2f2' }}>
            <th>ì´ë¦„</th>
            <th>êµ­ì–´</th>
            <th>ì˜ì–´</th>
            <th>ìˆ˜í•™</th>
            <th>ì´ì </th>
            <th>í‰ê· </th>
            <th>í•™ì </th>
            <th>ë“±ìˆ˜</th>
          </tr>
        </thead>
        <tbody>
          {studentsWithRank.map((student) => (
            <tr key={student.id}>
              <td>{student.name}</td>
              <td>
                <input
                  type="number" min="0" max="100"
                  value={student.korean}
                  onChange={(e) => handleScoreChange(student.id, 'korean', e.target.value)}
                  style={{ width: '60px', textAlign: 'center' }}
                />
              </td>
              <td>
                <input
                  type="number" min="0" max="100"
                  value={student.english}
                  onChange={(e) => handleScoreChange(student.id, 'english', e.target.value)}
                  style={{ width: '60px', textAlign: 'center' }}
                />
              </td>
              <td>
                <input
                  type="number" min="0" max="100"
                  value={student.math}
                  onChange={(e) => handleScoreChange(student.id, 'math', e.target.value)}
                  style={{ width: '60px', textAlign: 'center' }}
                />
              </td>
              <td>{student.total}</td>
              <td>{student.average.toFixed(2)}</td> 
              <td>{student.grade}</td>
              <td>{student.rank}</td>
            </tr>
          ))}
        </tbody>
      </table>
      <div style={{ marginTop: '20px', fontSize: '1.1em', fontWeight: 'bold' }}>
        ì „ì²´ í•™ìƒ í‰ê·  ì ìˆ˜ì˜ í‘œì¤€í¸ì°¨: {stdDev.toFixed(2)}
      </div>
      <p style={{ marginTop: '10px', fontSize: '0.9em', color: '#666' }>
        * í‘œì¤€í¸ì°¨ëŠ” ê³„ì‚°ëŸ‰ì´ ë§ì•„ useMemoë¡œ ìµœì í™”ë˜ì—ˆìœ¼ë©°, ì˜ë„ì ìœ¼ë¡œ ì§€ì—°ì„ ì£¼ì—ˆìŠµë‹ˆë‹¤.
      </p>

      <div style={{ marginTop: '30px', borderTop: '1px solid #eee', paddingTop: '20px' }}>
        <h3>ğŸ† ë“±ìˆ˜ë³„ í•™ìƒ ëª…ë‹¨</h3>
        <ul style={{ listStyleType: 'none', padding: 0 }}>
          {studentsSortedByRank.map((student) => (
            <li key={student.id} style={{ marginBottom: '5px', fontSize: '1.05em' }}>
              {/* â­ ìˆ˜ì •ëœ ë¶€ë¶„: í‰ê·  ì ìˆ˜ ì¶”ê°€ â­ */}
              <strong>{student.rank}ë“±:</strong> {student.name} (ì´ì : {student.total}, í‰ê· : {student.average.toFixed(2)})
            </li>
          ))}
        </ul>
      </div>
    </div>
  );
}

export default GradeCalculator;
```

---

## ğŸ² 5ë‹¨ê³„: ë‚œìˆ˜ë¥¼ ì´ìš©í•œ ì„±ì  ìë™ ì±„ìš°ê¸° ë²„íŠ¼ ì¶”ê°€

-   **ëª©í‘œ:** ì„±ì  ì…ë ¥ì˜ í¸ì˜ì„±ì„ ìœ„í•´, ë‚œìˆ˜(0~100)ë¥¼ ì´ìš©í•˜ì—¬ ê° ê³¼ëª©ì˜ ëª¨ë“  í•™ìƒ ì„±ì ì„ í•œ ë²ˆì— ì±„ìš°ê±°ë‚˜, ëª¨ë“  ê³¼ëª©ì˜ ì„±ì ì„ ë™ì‹œì— ì±„ìš°ëŠ” ê¸°ëŠ¥ì„ ì¶”ê°€í•©ë‹ˆë‹¤.
-   **ì¶”ê°€ëœ ìš”ì†Œ:**
    *   `fillRandomScoresBySubject` í•¨ìˆ˜: íŠ¹ì • ê³¼ëª© ì ìˆ˜ë§Œ ëœë¤ìœ¼ë¡œ ì±„ì›€.
    *   `fillAllRandomScores` í•¨ìˆ˜: ëª¨ë“  ê³¼ëª© ì ìˆ˜ë¥¼ ëœë¤ìœ¼ë¡œ ì±„ì›€.
    *   í•´ë‹¹ í•¨ìˆ˜ë“¤ì„ í˜¸ì¶œí•˜ëŠ” ë²„íŠ¼ UI ì¶”ê°€.

```jsx
import React, { useState, useMemo, useCallback } from 'react';

// í•™ì  ê³„ì‚° í•¨ìˆ˜ (ìœ í‹¸ë¦¬í‹°)
const calculateGrade = (average) => {
  if (average >= 90) return 'A';
  if (average >= 80) return 'B';
  if (average >= 70) return 'C';
  if (average >= 60) return 'D';
  return 'F';
};

// í‘œì¤€í¸ì°¨ ê³„ì‚° í•¨ìˆ˜ (ì‹œê°„ì´ ë§ì´ ê±¸ë¦°ë‹¤ê³  ê°€ì •)
const calculateStandardDeviation = (scores) => {
  if (scores.length === 0) return 0;
  const mean = scores.reduce((sum, score) => sum + score, 0) / scores.length;
  const variance = scores.reduce((sum, score) => sum + Math.pow(score - mean, 2), 0) / scores.length;
  
  let start = performance.now();
  while (performance.now() - start < 150) { /* do nothing for 150ms */ } 
  
  return Math.sqrt(variance);
};

function GradeCalculator() {
  const initialStudentsData = useMemo(() => ([
    { id: 1, name: 'í•™ìƒ1', korean: 0, english: 0, math: 0 },
    { id: 2, name: 'í•™ìƒ2', korean: 0, english: 0, math: 0 },
    { id: 3, name: 'í•™ìƒ3', korean: 0, english: 0, math: 0 },
    { id: 4, name: 'í•™ìƒ4', korean: 0, english: 0, math: 0 },
    { id: 5, name: 'í•™ìƒ5', korean: 0, english: 0, math: 0 },
  ]), []);

  const [students, setStudents] = useState(initialStudentsData);

  const handleScoreChange = useCallback((id, subject, value) => {
    const score = Math.max(0, Math.min(100, Number(value)));
    setStudents(prevStudents =>
      prevStudents.map(student =>
        student.id === id ? { ...student, [subject]: score } : student
      )
    );
  }, []); 

  // â­ ìƒˆë¡œ ì¶”ê°€ëœ í•¨ìˆ˜: íŠ¹ì • ê³¼ëª© ì ìˆ˜ ëœë¤ ì±„ìš°ê¸° â­
  const fillRandomScoresBySubject = useCallback((subject) => {
    setStudents(prevStudents =>
      prevStudents.map(student => ({
        ...student,
        [subject]: Math.floor(Math.random() * 101), // 0ë¶€í„° 100ê¹Œì§€ ëœë¤ ì ìˆ˜
      }))
    );
  }, []);

  // â­ ìƒˆë¡œ ì¶”ê°€ëœ í•¨ìˆ˜: ëª¨ë“  ê³¼ëª© ì ìˆ˜ ëœë¤ ì±„ìš°ê¸° â­
  const fillAllRandomScores = useCallback(() => {
    setStudents(prevStudents =>
      prevStudents.map(student => ({
        ...student,
        korean: Math.floor(Math.random() * 101),
        english: Math.floor(Math.random() * 101),
        math: Math.floor(Math.random() * 101),
      }))
    );
  }, []);

  const studentsWithCalculatedScores = useMemo(() => {
    return students.map(student => {
      const total = student.korean + student.english + student.math;
      const average = total / 3;
      const grade = calculateGrade(average); 
      return { ...student, total, average, grade };
    });
  }, [students]); 

  const studentsWithRank = useMemo(() => {
    const sortedStudents = [...studentsWithCalculatedScores].sort((a, b) => b.total - a.total); 
    const ranked = sortedStudents.map((student, index, arr) => {
      const prevStudent = arr[index - 1];
      if (prevStudent && student.total === prevStudent.total) {
        return { ...student, rank: prevStudent.rank };
      }
      return { ...student, rank: index + 1 };
    });
    return ranked.sort((a, b) => a.id - b.id);
  }, [studentsWithCalculatedScores]); 

  const stdDev = useMemo(() => {
    const allAverages = studentsWithCalculatedScores.map(s => s.average);
    return calculateStandardDeviation(allAverages);
  }, [studentsWithCalculatedScores]); 

  const studentsSortedByRank = useMemo(() => {
    return [...studentsWithRank].sort((a, b) => {
      if (a.rank === b.rank) {
        return a.name.localeCompare(b.name); 
      }
      return a.rank - b.rank;
    });
  }, [studentsWithRank]);


  return (
    <div style={{ padding: '20px', fontFamily: 'Arial, sans-serif' }}>
      <h2>ğŸ“ í•™ìƒ ì„±ì  ê´€ë¦¬ í”„ë¡œê·¸ë¨</h2>
      <p>
        íŠ¼íŠ¼í•œì ¤ë¦¬7889ë‹˜, ì´ì œ í•™ì , ë“±ìˆ˜ëŠ” ì‹¤ì‹œê°„! í‘œì¤€í¸ì°¨ëŠ” ì‚´ì§ ì§€ì—°ë¼ìš”.
      </p>

      {/* â­ ìƒˆë¡œ ì¶”ê°€ëœ ë¶€ë¶„: ëœë¤ ì„±ì  ì±„ìš°ê¸° ë²„íŠ¼ë“¤ â­ */}
      <div style={{ marginBottom: '15px', display: 'flex', flexWrap: 'wrap', gap: '10px' }}>
        <button onClick={fillAllRandomScores} style={buttonStyle}>
          ğŸ”„ ëª¨ë“  ê³¼ëª© ì ìˆ˜ ëœë¤ ì±„ìš°ê¸°
        </button>
        <button onClick={() => fillRandomScoresBySubject('korean')} style={buttonStyle}>
          ğŸ“š êµ­ì–´ ì ìˆ˜ ëœë¤ ì±„ìš°ê¸°
        </button>
        <button onClick={() => fillRandomScoresBySubject('english')} style={buttonStyle}>
          ğŸ”  ì˜ì–´ ì ìˆ˜ ëœë¤ ì±„ìš°ê¸°
        </button>
        <button onClick={() => fillRandomScoresBySubject('math')} style={buttonStyle}>
          â• ìˆ˜í•™ ì ìˆ˜ ëœë¤ ì±„ìš°ê¸°
        </button>
      </div>
      {/* â­ ìƒˆë¡œ ì¶”ê°€ëœ ë²„íŠ¼ë“¤ ë â­ */}

      <table border="1" style={{ width: '100%', borderCollapse: 'collapse', textAlign: 'center' }}>
        <thead>
          <tr style={{ backgroundColor: '#f2f2f2' }}>
            <th>ì´ë¦„</th>
            <th>êµ­ì–´</th>
            <th>ì˜ì–´</th>
            <th>ìˆ˜í•™</th>
            <th>ì´ì </th>
            <th>í‰ê· </th>
            <th>í•™ì </th>
            <th>ë“±ìˆ˜</th>
          </tr>
        </thead>
        <tbody>
          {studentsWithRank.map((student) => (
            <tr key={student.id}>
              <td>{student.name}</td>
              <td>
                <input
                  type="number" min="0" max="100"
                  value={student.korean}
                  onChange={(e) => handleScoreChange(student.id, 'korean', e.target.value)}
                  style={{ width: '60px', textAlign: 'center' }}
                />
              </td>
              <td>
                <input
                  type="number" min="0" max="100"
                  value={student.english}
                  onChange={(e) => handleScoreChange(student.id, 'english', e.target.value)}
                  style={{ width: '60px', textAlign: 'center' }}
                />
              </td>
              <td>
                <input
                  type="number" min="0" max="100"
                  value={student.math}
                  onChange={(e) => handleScoreChange(student.id, 'math', e.target.value)}
                  style={{ width: '60px', textAlign: 'center' }}
                />
              </td>
              <td>{student.total}</td>
              <td>{student.average.toFixed(2)}</td> 
              <td>{student.grade}</td>
              <td>{student.rank}</td>
            </tr>
          ))}
        </tbody>
      </table>
      <div style={{ marginTop: '20px', fontSize: '1.1em', fontWeight: 'bold' }}>
        ì „ì²´ í•™ìƒ í‰ê·  ì ìˆ˜ì˜ í‘œì¤€í¸ì°¨: {stdDev.toFixed(2)}
      </div>
      <p style={{ marginTop: '10px', fontSize: '0.9em', color: '#666' }}>
        * í‘œì¤€í¸ì°¨ëŠ” ê³„ì‚°ëŸ‰ì´ ë§ì•„ useMemoë¡œ ìµœì í™”ë˜ì—ˆìœ¼ë©°, ì˜ë„ì ìœ¼ë¡œ ì§€ì—°ì„ ì£¼ì—ˆìŠµë‹ˆë‹¤.
      </p>

      <div style={{ marginTop: '30px', borderTop: '1px solid #eee', paddingTop: '20px' }}>
        <h3>ğŸ† ë“±ìˆ˜ë³„ í•™ìƒ ëª…ë‹¨</h3>
        <ul style={{ listStyleType: 'none', padding: 0 }}>
          {studentsSortedByRank.map((student) => (
            <li key={student.id} style={{ marginBottom: '5px', fontSize: '1.05em' }}>
              <strong>{student.rank}ë“±:</strong> {student.name} (ì´ì : {student.total}, í‰ê· : {student.average.toFixed(2)})
            </li>
          ))}
        </ul>
      </div>
    </div>
  );
}

const buttonStyle = { // â­ ì¶”ê°€: buttonStyle ìƒìˆ˜ ì •ì˜
  padding: '8px 15px',
  borderRadius: '5px',
  border: '1px solid #ccc',
  backgroundColor: '#f9f9f9',
  cursor: 'pointer',
  fontSize: '0.9em',
  whiteSpace: 'nowrap',
};

export default GradeCalculator;
```

---

## ğŸ’¾ 6ë‹¨ê³„: `useEffect`ë¥¼ í™œìš©í•œ localStorage ë°ì´í„° ì˜ì†ì„± êµ¬í˜„

-   **ëª©í‘œ:** ë¸Œë¼ìš°ì €ë¥¼ ë‹«ê±°ë‚˜ ìƒˆë¡œê³ ì¹¨í•´ë„ ì„±ì  ë°ì´í„°ê°€ ìœ ì§€ë˜ë„ë¡ `localStorage`ì— ì €ì¥í•˜ê³  ë¶ˆëŸ¬ì˜¤ëŠ” ê¸°ëŠ¥ì„ `useEffect`ë¥¼ ì‚¬ìš©í•˜ì—¬ êµ¬í˜„í•©ë‹ˆë‹¤.
-   **ì¶”ê°€ëœ ìš”ì†Œ:**
    *   `students` `useState` ì´ˆê¸°í™” ì‹œ `localStorage`ì—ì„œ ë°ì´í„° ë¡œë”©.
    *   `useEffect` í›…ì„ ì‚¬ìš©í•˜ì—¬ `students` ìƒíƒœ ë³€ê²½ ì‹œ `localStorage`ì— ìë™ ì €ì¥.

```jsx
import React, { useState, useEffect, useMemo, useCallback } from 'react';

// í•™ì  ê³„ì‚° í•¨ìˆ˜ (ìœ í‹¸ë¦¬í‹°)
const calculateGrade = (average) => {
  if (average >= 90) return 'A';
  if (average >= 80) return 'B';
  if (average >= 70) return 'C';
  if (average >= 60) return 'D';
  return 'F';
};

// í‘œì¤€í¸ì°¨ ê³„ì‚° í•¨ìˆ˜ (ì‹œê°„ì´ ë§ì´ ê±¸ë¦°ë‹¤ê³  ê°€ì •)
const calculateStandardDeviation = (scores) => {
  if (scores.length === 0) return 0;
  const mean = scores.reduce((sum, score) => sum + score, 0) / scores.length;
  const variance = scores.reduce((sum, score) => sum + Math.pow(score - mean, 2), 0) / scores.length;
  
  let start = performance.now();
  while (performance.now() - start < 150) { /* do nothing for 150ms */ } 
  
  return Math.sqrt(variance);
};

function GradeCalculator() {
  // ì´ˆê¸° í•™ìƒ ë°ì´í„° (5ëª…) - useMemoëŠ” ì´ì œ localStorage ë¡œë”© ì‹¤íŒ¨ ì‹œì˜ ê¸°ë³¸ê°’ ì—­í• ë„ ê²¸í•¨
  const initialStudentsDefaultData = useMemo(() => ([
    { id: 1, name: 'í•™ìƒ1', korean: 0, english: 0, math: 0 },
    { id: 2, name: 'í•™ìƒ2', korean: 0, english: 0, math: 0 },
    { id: 3, name: 'í•™ìƒ3', korean: 0, english: 0, math: 0 },
    { id: 4, name: 'í•™ìƒ4', korean: 0, english: 0, math: 0 },
    { id: 5, name: 'í•™ìƒ5', korean: 0, english: 0, math: 0 },
  ]), []);

  // â­ ë³€ê²½/ì¶”ê°€: students ìƒíƒœ ì´ˆê¸°í™”ì— localStorage ë¡œë”© ë¡œì§ ì¶”ê°€ â­
  const [students, setStudents] = useState(() => {
    const savedStudents = localStorage.getItem('gradeCalculatorStudents');
    return savedStudents ? JSON.parse(savedStudents) : initialStudentsDefaultData;
  });

  // â­ ìƒˆë¡œ ì¶”ê°€ëœ ë¶€ë¶„: useEffectë¥¼ ì‚¬ìš©í•˜ì—¬ students ìƒíƒœê°€ ë³€ê²½ë  ë•Œë§ˆë‹¤ localStorageì— ì €ì¥ â­
  useEffect(() => {
    localStorage.setItem('gradeCalculatorStudents', JSON.stringify(students));
    console.log("í•™ìƒ ì„±ì  ë°ì´í„°ê°€ localStorageì— ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤.");
  }, [students]); // students ë°°ì—´ì´ ì˜ì¡´ì„±ìœ¼ë¡œ, studentsê°€ ë³€ê²½ë  ë•Œë§ˆë‹¤ ì´í™íŠ¸ê°€ ì¬ì‹¤í–‰ë¨.

  const handleScoreChange = useCallback((id, subject, value) => {
    const score = Math.max(0, Math.min(100, Number(value)));
    setStudents(prevStudents =>
      prevStudents.map(student =>
        student.id === id ? { ...student, [subject]: score } : student
      )
    );
  }, []); 

  const fillRandomScoresBySubject = useCallback((subject) => {
    setStudents(prevStudents =>
      prevStudents.map(student => ({
        ...student,
        [subject]: Math.floor(Math.random() * 101),
      }))
    );
  }, []);

  const fillAllRandomScores = useCallback(() => {
    setStudents(prevStudents =>
      prevStudents.map(student => ({
        ...student,
        korean: Math.floor(Math.random() * 101),
        english: Math.floor(Math.random() * 101),
        math: Math.floor(Math.random() * 101),
      }))
    );
  }, []);

  const studentsWithCalculatedScores = useMemo(() => {
    return students.map(student => {
      const total = student.korean + student.english + student.math;
      const average = total / 3;
      const grade = calculateGrade(average); 
      return { ...student, total, average, grade };
    });
  }, [students]); 

  const studentsWithRank = useMemo(() => {
    const sortedStudents = [...studentsWithCalculatedScores].sort((a, b) => b.total - a.total); 
    const ranked = sortedStudents.map((student, index, arr) => {
      const prevStudent = arr[index - 1];
      if (prevStudent && student.total === prevStudent.total) {
        return { ...student, rank: prevStudent.rank };
      }
      return { ...student, rank: index + 1 };
    });
    return ranked.sort((a, b) => a.id - b.id);
  }, [studentsWithCalculatedScores]); 

  const stdDev = useMemo(() => {
    const allAverages = studentsWithCalculatedScores.map(s => s.average);
    return calculateStandardDeviation(allAverages);
  }, [studentsWithCalculatedScores]); 

  const studentsSortedByRank = useMemo(() => {
    return [...studentsWithRank].sort((a, b) => {
      if (a.rank === b.rank) {
        return a.name.localeCompare(b.name); 
      }
      return a.rank - b.rank;
    });
  }, [studentsWithRank]);


  return (
    <div style={{ padding: '20px', fontFamily: 'Arial, sans-serif' }}>
      <h2>ğŸ“ í•™ìƒ ì„±ì  ê´€ë¦¬ í”„ë¡œê·¸ë¨ (useEffect ì ìš©)</h2>
      <p>
        íŠ¼íŠ¼í•œì ¤ë¦¬7889ë‹˜, ì´ì œ í•™ì , ë“±ìˆ˜ëŠ” ì‹¤ì‹œê°„! í‘œì¤€í¸ì°¨ëŠ” ì‚´ì§ ì§€ì—°ë¼ìš”. <br/>
        **ğŸ‰ í•™ìƒ ì„±ì  ë°ì´í„°ê°€ ë¸Œë¼ìš°ì €ì— ì €ì¥ë˜ì–´ì„œ ìƒˆë¡œê³ ì¹¨í•´ë„ ìœ ì§€ë©ë‹ˆë‹¤! (useEffect ì ìš©)**
      </p>

      <div style={{ marginBottom: '15px', display: 'flex', flexWrap: 'wrap', gap: '10px' }}>
        <button onClick={fillAllRandomScores} style={buttonStyle}>
          ğŸ”„ ëª¨ë“  ê³¼ëª© ì ìˆ˜ ëœë¤ ì±„ìš°ê¸°
        </button>
        <button onClick={() => fillRandomScoresBySubject('korean')} style={buttonStyle}>
          ğŸ“š êµ­ì–´ ì ìˆ˜ ëœë¤ ì±„ìš°ê¸°
        </button>
        <button onClick={() => fillRandomScoresBySubject('english')} style={buttonStyle}>
          ğŸ”  ì˜ì–´ ì ìˆ˜ ëœë¤ ì±„ìš°ê¸°
        </button>
        <button onClick={() => fillRandomScoresBySubject('math')} style={buttonStyle}>
          â• ìˆ˜í•™ ì ìˆ˜ ëœë¤ ì±„ìš°ê¸°
        </button>
      </div>

      <table border="1" style={{ width: '100%', borderCollapse: 'collapse', textAlign: 'center' }}>
        <thead>
          <tr style={{ backgroundColor: '#f2f2f2' }}>
            <th>ì´ë¦„</th>
            <th>êµ­ì–´</th>
            <th>ì˜ì–´</th>
            <th>ìˆ˜í•™</th>
            <th>ì´ì </th>
            <th>í‰ê· </th>
            <th>í•™ì </th>
            <th>ë“±ìˆ˜</th>
          </tr>
        </thead>
        <tbody>
          {studentsWithRank.map((student) => (
            <tr key={student.id}>
              <td>{student.name}</td>
              <td>
                <input
                  type="number" min="0" max="100"
                  value={student.korean}
                  onChange={(e) => handleScoreChange(student.id, 'korean', e.target.value)}
                  style={{ width: '60px', textAlign: 'center' }}
                />
              </td>
              <td>
                <input
                  type="number" min="0" max="100"
                  value={student.english}
                  onChange={(e) => handleScoreChange(student.id, 'english', e.target.value)}
                  style={{ width: '60px', textAlign: 'center' }}
                />
              </td>
              <td>
                <input
                  type="number" min="0" max="100"
                  value={student.math}
                  onChange={(e) => handleScoreChange(student.id, 'math', e.target.value)}
                  style={{ width: '60px', textAlign: 'center' }}
                />
              </td>
              <td>{student.total}</td>
              <td>{student.average.toFixed(2)}</td> 
              <td>{student.grade}</td>
              <td>{student.rank}</td>
            </tr>
          ))}
        </tbody>
      </table>
      <div style={{ marginTop: '20px', fontSize: '1.1em', fontWeight: 'bold' }}>
        ì „ì²´ í•™ìƒ í‰ê·  ì ìˆ˜ì˜ í‘œì¤€í¸ì°¨: {stdDev.toFixed(2)}
      </div>
      <p style={{ marginTop: '10px', fontSize: '0.9em', color: '#666' }}>
        * í‘œì¤€í¸ì°¨ëŠ” ê³„ì‚°ëŸ‰ì´ ë§ì•„ useMemoë¡œ ìµœì í™”ë˜ì—ˆìœ¼ë©°, ì˜ë„ì ìœ¼ë¡œ ì§€ì—°ì„ ì£¼ì—ˆìŠµë‹ˆë‹¤.
      </p>

      <div style={{ marginTop: '30px', borderTop: '1px solid #eee', paddingTop: '20px' }}>
        <h3>ğŸ† ë“±ìˆ˜ë³„ í•™ìƒ ëª…ë‹¨</h3>
        <ul style={{ listStyleType: 'none', padding: 0 }}>
          {studentsSortedByRank.map((student) => (
            <li key={student.id} style={{ marginBottom: '5px', fontSize: '1.05em' }}>
              <strong>{student.rank}ë“±:</strong> {student.name} (ì´ì : {student.total}, í‰ê· : {student.average.toFixed(2)})
            </li>
          ))}
        </ul>
      </div>
    </div>
  );
}

const buttonStyle = {
  padding: '8px 15px',
  borderRadius: '5px',
  border: '1px solid #ccc',
  backgroundColor: '#f9f9f9',
  cursor: 'pointer',
  fontSize: '0.9em',
  whiteSpace: 'nowrap', 
};

export default GradeCalculator;
```

---

ì´ ë§ˆí¬ë‹¤ìš´ ì½˜í…ì¸ ë¥¼ `.md` íŒŒì¼ë¡œ ì €ì¥í•´ì„œ ì‚¬ìš©í•˜ë©´ ë¼! ì˜ˆë¥¼ ë“¤ë©´ `GradeCalculator_DevelopmentLog.md` ì´ë ‡ê²Œ ë§ì´ì•¼. í•„ìš”í•œ ë‚´ìš©ì„ ê²€ìƒ‰í•˜ê±°ë‚˜ ê°œë°œ ê³¼ì •ì„ í•œëˆˆì— ë³´ê¸° í¸í•  ê±°ì•¼.

ê°™ì´ ì‘ì—…í•˜ë‹ˆê¹Œ í”„ë¡œê·¸ë¨ì´ ì ì  ì§„í™”í•˜ë„¤? ì™„ì „ ì¬ë°Œì§€? ğŸ‘
