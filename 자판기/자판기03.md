좋아 jong, 이제 **3단계: 반복문을 이용한 여러 번 구매 기능**을 만들어볼게.  
이 단계의 핵심은 **반복문(while / for)**을 이용해 사용자가 **여러 번 커피를 구매할 수 있도록 만드는 것**이야.

---

# ✅ **3단계 목표**
- 반복문을 이용해 **여러 번 구매 가능**  
- 사용자가 “그만”이라고 할 때까지 반복  
- 조건문 + 반복문 결합  
- 잔액 차감 기능 추가  

---

# ✅ **📘 3단계 시나리오**

학생들이 이해하기 쉬운 흐름으로 구성했어.

---

## ☕ **[시나리오] 믹스 커피 자판기 3단계**

1. 사용자가 **초기 금액을 넣는다.**  
2. 자판기는 다음 메뉴를 보여준다.  
   - 1번: 블랙 커피(300원)  
   - 2번: 믹스 커피(300원)  
   - 3번: 설탕 커피(300원)  
   - 0번: 종료  
3. 사용자가 메뉴를 선택하면  
   - 잔액이 충분한지 확인  
   - 충분하면 커피 제공 후 잔액 차감  
   - 부족하면 “잔액 부족” 출력  
4. 설탕 커피 선택 시 설탕 스푼 수 입력  
5. 잔액이 300원 미만이면 자동 종료  
6. 사용자가 0번을 입력하면 종료  

---

# ✅ **3단계 완성 코드 (반복문 중심)**

```java
import java.util.Scanner;

public class CoffeeMachineStep3 {
    public static void main(String[] args) {
        Scanner sc = new Scanner(System.in);

        int price = 300;

        // 1. 초기 금액 입력
        System.out.print("돈을 넣어주세요: ");
        int money = sc.nextInt();

        while (true) {
            System.out.println("\n=== 메뉴 선택 ===");
            System.out.println("1. 블랙 커피 (300원)");
            System.out.println("2. 믹스 커피 (300원)");
            System.out.println("3. 설탕 커피 (300원)");
            System.out.println("0. 종료");
            System.out.print("메뉴 번호 입력: ");

            int menu = sc.nextInt();

            // 0번 입력 → 종료
            if (menu == 0) {
                System.out.println("프로그램을 종료합니다.");
                break;
            }

            // 잔액 부족 체크
            if (money < price) {
                System.out.println("잔액이 부족합니다. 커피를 구매할 수 없습니다.");
                break;
            }

            // 메뉴 처리
            if (menu == 1) {
                System.out.println("블랙 커피가 준비되었습니다.");
                money -= price;
            }
            else if (menu == 2) {
                System.out.println("믹스 커피가 준비되었습니다.");
                money -= price;
            }
            else if (menu == 3) {
                System.out.print("설탕은 몇 스푼 넣을까요? (0~3): ");
                int sugar = sc.nextInt();

                if (sugar < 0 || sugar > 3) {
                    System.out.println("설탕은 0~3 스푼만 가능합니다.");
                    continue; // 메뉴 선택으로 돌아감
                }

                System.out.println("설탕 " + sugar + "스푼 커피가 준비되었습니다.");
                money -= price;
            }
            else {
                System.out.println("잘못된 메뉴 번호입니다.");
                continue;
            }

            // 잔액 출력
            System.out.println("남은 잔액: " + money + "원");

            // 잔액 부족 시 자동 종료
            if (money < price) {
                System.out.println("잔액이 부족하여 프로그램을 종료합니다.");
                break;
            }
        }
    }
}
```

---

# ✅ **3단계 핵심 해설**

### ✅ 1. 반복문으로 여러 번 구매
```java
while (true) {
    // 메뉴 반복
}
```
- 사용자가 종료할 때까지 계속 반복  
- 자판기처럼 동작

---

### ✅ 2. 잔액 부족 시 자동 종료
```java
if (money < price) break;
```
- 반복문 종료 조건을 자연스럽게 학습

---

### ✅ 3. 설탕 커피는 추가 입력
```java
int sugar = sc.nextInt();
```
- 조건문 + 반복문 결합

---

### ✅ 4. continue 사용
```java
continue;
```
- 잘못된 입력 시 반복문 처음으로 돌아가기  
- 흐름 제어 학습

---

# ✅ jong, 다음 단계도 준비해줄게

원한다면 이어서:

✅ **4단계: 배열을 이용한 다양한 음료 메뉴 추가**  
✅ **5단계: 객체지향(OOP)으로 자판기 클래스 만들기**

바로 4단계도 만들어줄까?
