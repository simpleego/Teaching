좋아 jong, 이제 **4단계: 배열을 이용한 다양한 음료 메뉴 추가**를 만들어볼게.  
이 단계의 핵심은 **배열을 이용해 메뉴를 관리하고**, 반복문과 조건문을 결합해 **확장 가능한 자판기 구조**를 만드는 것이야.

---

# ✅ **4단계 목표**
- 배열을 이용해 여러 음료 메뉴를 저장  
- 배열을 이용해 가격도 함께 관리  
- 반복문으로 메뉴 출력  
- 조건문으로 선택 처리  
- 3단계보다 확장된 구조 만들기  

---

# ✅ **📘 4단계 시나리오**

학생들이 이해하기 쉬운 흐름으로 구성했어.

---

## ☕ **[시나리오] 믹스 커피 자판기 4단계**

1. 자판기에는 다음과 같은 음료가 있다.  
   - 0: 종료  
   - 1: 블랙 커피 (300원)  
   - 2: 믹스 커피 (300원)  
   - 3: 설탕 커피 (300원)  
   - 4: 핫초코 (500원)  
   - 5: 아이스티 (400원)

2. 메뉴 이름과 가격은 **배열로 관리**한다.  
3. 사용자가 돈을 넣는다.  
4. 메뉴를 선택하면  
   - 가격 확인  
   - 잔액 차감  
   - 음료 제공  
5. 잔액이 부족하면 구매 불가  
6. 0번 입력 시 종료  

---

# ✅ **4단계 완성 코드 (배열 중심)**

```java
import java.util.Scanner;

public class CoffeeMachineStep4 {
    public static void main(String[] args) {
        Scanner sc = new Scanner(System.in);

        // 1. 메뉴 배열
        String[] menu = {"종료", "블랙 커피", "믹스 커피", "설탕 커피", "핫초코", "아이스티"};
        int[] price = {0, 300, 300, 300, 500, 400};

        // 2. 초기 금액 입력
        System.out.print("돈을 넣어주세요: ");
        int money = sc.nextInt();

        while (true) {
            System.out.println("\n=== 메뉴 선택 ===");

            // 3. 배열을 이용한 메뉴 출력
            for (int i = 0; i < menu.length; i++) {
                System.out.println(i + ". " + menu[i] + " (" + price[i] + "원)");
            }

            System.out.print("메뉴 번호 입력: ");
            int choice = sc.nextInt();

            // 4. 종료 조건
            if (choice == 0) {
                System.out.println("프로그램을 종료합니다.");
                break;
            }

            // 5. 잘못된 번호 처리
            if (choice < 0 || choice >= menu.length) {
                System.out.println("잘못된 메뉴 번호입니다.");
                continue;
            }

            // 6. 잔액 부족 체크
            if (money < price[choice]) {
                System.out.println("잔액이 부족합니다.");
                continue;
            }

            // 7. 설탕 커피는 추가 입력
            if (choice == 3) {
                System.out.print("설탕은 몇 스푼 넣을까요? (0~3): ");
                int sugar = sc.nextInt();

                if (sugar < 0 || sugar > 3) {
                    System.out.println("설탕은 0~3 스푼만 가능합니다.");
                    continue;
                }

                System.out.println("설탕 " + sugar + "스푼 커피가 준비되었습니다.");
            } else {
                System.out.println(menu[choice] + "가 준비되었습니다.");
            }

            // 8. 잔액 차감
            money -= price[choice];
            System.out.println("남은 잔액: " + money + "원");

            // 9. 잔액 부족 시 자동 종료
            if (money < 300) {
                System.out.println("잔액이 부족하여 프로그램을 종료합니다.");
                break;
            }
        }
    }
}
```

---

# ✅ **4단계 핵심 해설**

### ✅ 1. 메뉴와 가격을 배열로 관리
```java
String[] menu = {"종료", "블랙 커피", "믹스 커피", "설탕 커피", "핫초코", "아이스티"};
int[] price = {0, 300, 300, 300, 500, 400};
```
- 메뉴 추가가 매우 쉬워짐  
- 배열 인덱스 = 메뉴 번호  

---

### ✅ 2. 반복문으로 메뉴 출력
```java
for (int i = 0; i < menu.length; i++) {
    System.out.println(i + ". " + menu[i] + " (" + price[i] + "원)");
}
```
- 메뉴가 늘어나도 자동으로 출력됨

---

### ✅ 3. 조건문으로 선택 처리
```java
if (choice == 3) { ... } // 설탕 커피
else { ... }             // 일반 음료
```

---

### ✅ 4. 잔액 차감
```java
money -= price[choice];
```

---

### ✅ 5. 잔액 부족 시 자동 종료
```java
if (money < 300) break;
```

---

# ✅ jong, 다음 단계도 준비해줄게

원한다면 이어서:

✅ **5단계: 객체지향(OOP)으로 자판기 클래스 만들기**  
- `Drink` 클래스  
- `VendingMachine` 클래스  
- 메서드 분리  
- 객체 배열 활용  

바로 5단계도 만들어줄까?
